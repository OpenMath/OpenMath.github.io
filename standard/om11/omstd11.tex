
\documentclass[11pt,twoside,chapter]{openmath}
\setcounter{secnumdepth}{4}
\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{ae,amsfonts,amssymb,url,graphics,color,hyperref}

\let\cellsep&

\catcode`\&=12
\catcode`\_=12
\catcode`\^=12
\catcode`\#=12
\catcode`\$=12
\catcode`\£=1
\catcode`\ﬂ=2
\let\omlogo\relax
\begin{document}
\catcode`\%=12
\catcode`\{=12
\catcode`\}=12

\raggedbottom

\title£The OpenMath Standardﬂ

\version£1.1bﬂ
\author£The OpenMath Esprit Consortiumﬂ


\editor£O.Caprottiﬂ

\editor£D.P.Carlisleﬂ

\editor£A.M.Cohenﬂ



\date£October 24 2002ﬂ

\begin£abstractﬂ


£This document proposes \emph£OpenMathﬂ as a standard for the communication of
  semantically rich mathematical objects. This draft of the \emph£OpenMathﬂ 
  standard comprises the following: a description of \emph£OpenMathﬂ objects, the
  grammar of \textsc£xmlﬂ and of the binary encoding of objects, a
  description of Content Dictionaries and an \textsc£xmlﬂ document type
  definition for validating Content Dictionaries. The non-normative
  Chapter†1 of this document briefly overviews the history
  of \emph£OpenMathﬂ.ﬂ


\end£abstractﬂ

\maketitle


\subsection*£Change-marked edition notesﬂ
This edition contains colour coded change markings
relative to the OpenMath 1.0 document\ldots
\begin£itemizeﬂ
\color£greenﬂ
\item New text is marked in green.
\color£redﬂ
\item Deleted text is marked in red.
\end£itemizeﬂ

\subsubsection*£Sections with new textﬂ
\begin£itemizeﬂ

\item
\ref£sec_ominﬂ Further Description of OpenMath Objects\\

\item
\ref£ssec_xmlﬂ A Grammar for the xml Encoding\\

\end£itemizeﬂ



  

\catcode`\{=1
\catcode`\}=2
\tableofcontents
\catcode`\{=12
\catcode`\}=12


\catcode`\{=1
\catcode`\}=2
\listoffigures
\catcode`\{=12
\catcode`\}=12




\chapter£\emph£OpenMathﬂ Movementﬂ\label£cha_hisﬂ






£This chapter is a historical account of \emph£OpenMathﬂ and should be regarded
as non-normative.ﬂ





£\emph£OpenMathﬂ is a standard for representing mathematical objects,
allowing them to be exchanged between computer programs, stored in
databases, or published on the worldwide web.  While the original
designers were mainly developers of computer algebra systems, it is
now attracting interest from other areas of scientific computation and
from many publishers of electronic documents with a significant
mathematical content.  There is a strong relationship to the MathML
recommendation \cite£MathML_98ﬂ from the Worldwide Web
Consortium, and a large overlap between the two developer communities.
MathML deals principally with the \emph£presentationﬂ of
mathematical objects, while \emph£OpenMathﬂ is solely concerned with their
semantic meaning or \emph£contentﬂ.  While MathML does
have some limited facilities for dealing with content, it also allows
semantic information encoded in \emph£OpenMathﬂ to be embedded inside a MathML
structure.  Thus the two technologies may be seen as highly
complementary.ﬂ



£
\section£Historyﬂ\label£sec_histﬂ






£\emph£OpenMathﬂ was originally developed through a series of workshops held
in Zurich (1993 and 1996), Oxford (1994), Amsterdam (1995), Copenhagen
(1995), Bath (1996), Dublin (1996), Nice (1997), Yorktown Heights
(1997), Berlin (1998), and Tallahassee (1998).  The participants in
these workshops formed a global \emph£OpenMathﬂ community which was coordinated
by a Steering Committee and operated through electronic mailing groups
and ad-hoc working parties.  This loose arrangement has been
formalised through the establishment of an \emph£OpenMathﬂ Society.  Up until the
end of 1996 much of the work of the community was funded through a
grant from the Human Capital and Mobility program of the European
Union, the contributions of several institutions and individuals.  A
document outlining the objectives and basic design of \emph£OpenMathﬂ was
produced (later published as
\cite£Abbott_Leeuwen_Strotmann_98ﬂ).  By the end of 1996
a simplified specification had been agreed on and some prototype
implementations have come about
\cite£Dalmas_Gaetano_Watt_97ﬂ.ﬂ






£In 1996 a group of European participants in \emph£OpenMathﬂ decided to bid
for funding under the European Union's Fourth Framework Programme for
strategic research in information technology.  This bid was successful
and the project started in late 1997.  The principal aims of the
project are to formalise \emph£OpenMathﬂ as a standard and to develop it
further through industrial applications; this document is a product of
that process and draws heavily on the previous work described earlier.
\emph£OpenMathﬂ participants from all over the world continue to meet
regularly and cooperate on areas of mutual interest, and
recent workshops in Tallahassee (November 1998) and Eindhoven (June
1999)  endorsed  drafts of this document as the current \emph£OpenMathﬂ standard.ﬂ






ﬂ

£
\section£\emph£OpenMathﬂ Societyﬂ\label£sec_omsocﬂ






£In November 1998 the \emph£OpenMathﬂ Society has been established to coordinate
all \emph£OpenMathﬂ activities. The society is based in Helsinki, Finland and is
steered by the executive committee whose members are elected by the
society. The official web page of the society is
\href£http://www.openmath.orgﬂ£http://www.openmath.orgﬂ.ﬂ


ﬂ





\chapter£Introduction to \emph£OpenMathﬂﬂ\label£cha_intﬂ








£This chapter briefly introduces \emph£OpenMathﬂ concepts and notions that are
referred to in the rest of this document.ﬂ



£
\section£\emph£OpenMathﬂ Architectureﬂ\label£sec_om-archﬂ





\begin£figureﬂ


    
    \includegraphics£om-archﬂ


\caption£The \emph£OpenMathﬂ Architectureﬂ\label£fig_omﬂ
\end£figureﬂ




£The architecture of \emph£OpenMathﬂ is described in Figure†2.1 and
summarizes the interactions among the different \emph£OpenMathﬂ components.
There are three layers of representation of a mathematical object
\cite£OM_98ﬂ. A private layer that is the internal representation used
by an application.  An abstract layer that is the representation as an
\emph£OpenMathﬂ object. Third is a communication layer that translates the \emph£OpenMathﬂ 
object representation to a stream of bytes. An application dependent
program manipulates the mathematical objects using its internal
representation, it can convert them to \emph£OpenMathﬂ objects and communicate
them by using the byte stream representation of \emph£OpenMathﬂ objects.ﬂ


ﬂ

£
\section£\emph£OpenMathﬂ Objects and Encodingsﬂ\label£sec_intro-objﬂ









£\emph£OpenMathﬂ objects are representations of mathematical entities that
can be communicated among various software applications in a
meaningful way, that is, preserving their
``semantics''.ﬂ





£\emph£OpenMathﬂ objects and encodings are described in detail in Chapter†3 and Chapter†4.ﬂ








£The standard endorses encodings in \textsc£xmlﬂ and binary
format. These are the encodings supported by the official \emph£OpenMathﬂ
libraries. However they are not the only possible encodings of \emph£OpenMathﬂ
objects. Users that wish to define their own encoding using some other
specific language (e.g.  Lisp) may do so provided there is an
effective translation of this encoding to an official one.ﬂ


ﬂ

£
\section£Content Dictionariesﬂ\label£sec_intro-cdﬂ






£Content Dictionaries (CDs) are used to assign informal and formal
semantics to all symbols used in the \emph£OpenMathﬂ objects. They define the
symbols used to represent concepts arising in a particular area of
mathematics.ﬂ





£The Content Dictionaries are public, they represent the actual
common knowledge among \emph£OpenMathﬂ applications.  Content Dictionaries fix
the ``meaning'' of objects independently of the
application.  The application receiving the object may then recognize
whether or not, according to the semantics of the symbols defined in
the Content Dictionaries, the object can be transformed to the
corresponding internal representation used by the application.ﬂ


ﬂ

£
\section£Additional Filesﬂ\label£sec_addnfilesﬂ

  

£Several
additional files are related to Content Dictionaries.  Signature files
contain the signatures of symbols defined in some \emph£OpenMathﬂ Content
Dictionary and their format is endorsed by this standard.ﬂ





£Furthermore, the standard fixes how to define as a CDGroup a specific
set of Content Dictionaries.ﬂ





£Auxiliary files that define presentation and rendering or that
are used for manipulating and processing Content Dictionaries are not
discussed by the standard.ﬂ




ﬂ
£
\section£Phrasebooksﬂ\label£sec_phrasebooksﬂ







£The conversion of an \emph£OpenMathﬂ object to/from the internal
representation in a software application is performed by an interface
program called \emph£Phrasebookﬂ. The translation is
governed by the Content Dictionaries and the specifics of the
application. It is envisioned that a software application dealing with
a specific area of mathematics declares which Content Dictionaries it
understands. As a consequence, it is expected that the Phrasebook of
the application is able to translate \emph£OpenMathﬂ objects built using symbols
from these Content Dictionaries to/from the internal mathematical
objects of the application.ﬂ



 

£\emph£OpenMathﬂ objects do not
specify any compuational behaviour, they merely represent mathematical
expressions.  Part of the \emph£OpenMathﬂ philosophy is to leave it to the
application to decide what it does with an object once it has received
it.  \emph£OpenMathﬂ is not a query or programming language. Because of this,
\emph£OpenMathﬂ does not prescribe a way of forcing ``evaluation'' or
``simplification'' of objects like
\protect\(2+3\protect\) or
\protect\(sin(\pi )\protect\). Thus,
the same object \protect\(2+3\protect\) could be
transformed to \protect\(5\protect\) by a computer algebra system,
or displayed as \protect\(2+3\protect\) by a
typesetting tool.ﬂ


ﬂ




\chapter£\emph£OpenMathﬂ Objectsﬂ\label£cha_objﬂ







£In this chapter we provide a self-contained description of \emph£OpenMathﬂ
objects. We first do so at an informal level (Section†3.2) and next by means of an abstract grammar
description (Section†3.1).ﬂ




£
\section£Formal Definition of \emph£OpenMathﬂ Objectsﬂ\label£sec_omabsﬂ






£\emph£OpenMathﬂ represents mathematical objects as terms or as labelled
trees that are called \emph£OpenMathﬂ objects or \emph£OpenMathﬂ expressions. The definition
of an abstract \emph£OpenMathﬂ object is then the following.ﬂ




£
\subsection£Basic \emph£OpenMathﬂ objectsﬂ\label£sec_basicﬂ

 

£The Basic \emph£OpenMathﬂ Objects form
the leaves of the \emph£OpenMathﬂ Object tree.  A Basic \emph£OpenMathﬂ Object is of one of
the following.ﬂ

 

\begin£enumerateﬂ

\def\theenumi£\roman£enumiﬂﬂ
\def\labelenumi£(\theenumi)ﬂ


\item


£ Integer.ﬂ



£Integers in
  the mathematical sense, with no predefined range.  They are
  ``infinite precision'' integers (also called
  ``bignums'' in computer algebra).ﬂ



\item


£ IEEE floating point
    number.ﬂ



£Double precision floating-point numbers
    following the \textsc£ieeeﬂ 754-1985
    standard†\cite£ieee754_85ﬂ.ﬂ



\item


£ Character string.ﬂ



£A Unicode Character string. This also corresponds to `characters' in
  \textsc£xmlﬂ.ﬂ



\item


£ Bytearray.ﬂ



£A sequence of bytes.ﬂ



\item


£ Symbol.ﬂ



£A Symbol
encodes two fields of information, a \emph£nameﬂ and a
\emph£Content Dictionaryﬂ. Each is a sequence of
characters matching a regular expression, as described below.ﬂ



\item


£ Variable.ﬂ



£A Variable consists of a \emph£nameﬂ which is a
 sequence of characters matching a regular expression, as described
 below.ﬂ



\end£enumerateﬂ

ﬂ

£
\subsection£Compound \emph£OpenMathﬂ Objectsﬂ\label£sec_compoundﬂ


  


£\emph£OpenMathﬂ objects are built recursively as follows.

\begin£enumerateﬂ

\def\theenumi£\roman£enumiﬂﬂ
\def\labelenumi£(\theenumi)ﬂ


\item


£ Basic \emph£OpenMathﬂ objects are \emph£OpenMathﬂ objects.ﬂ




\item


£
     If
    \protect\(A\sb£1ﬂ\protect\), \ldots ,
    \protect\(A\sb£nﬂ\protect\)
    \protect\((n>0)\protect\) are \emph£OpenMathﬂ
    objects, then 
  \protect\[
  \mathbf£applicationﬂ(A\sb£1ﬂ, \ldots , A\sb£nﬂ)
  \protect\]
  is an \emph£OpenMathﬂ \emph£application objectﬂ.ﬂ

 
\item


£ If
  \protect\(S\sb£1ﬂ,
  \ldots , S\sb£nﬂ\protect\)
  are \emph£OpenMathﬂ symbols, and \protect\(A\protect\),
  \protect\(A\sb£1ﬂ\protect\),
  \ldots , \protect\(A\sb£nﬂ\protect\), \protect\((n>0)\protect\) are \emph£OpenMathﬂ objects, then
  \protect\[\mathbf£attributionﬂ
  (A, S\sb£1ﬂ
  \hspace£.3emﬂ
  A\sb£1ﬂ,
 \hspace£.3emﬂ \ldots  \hspace£.3emﬂ , S\sb£nﬂ \hspace£.3emﬂ
  A\sb£nﬂ)\protect\]
  is an \emph£OpenMathﬂ \emph£attribution objectﬂ and \protect\(A\protect\) is the object
  \emph£stripped of attributionsﬂ. The operation of recursively
  applying stripping to the stripped object is called \emph£flattening
    of the attributionﬂ. When  the stripped object after flattening
  is a  variable, the attributed object is called \emph£attributed
    variableﬂ.ﬂ



\item


£ If \protect\(B\protect\) and \protect\(C\protect\) are \emph£OpenMathﬂ objects, and \protect\(v\sb£1ﬂ\protect\), \protect\(\ldots \protect\),
  \protect\(v\sb£nﬂ\protect\) \protect\((n \geq  0)\protect\) are \emph£OpenMathﬂ variables or attributed variables, then
  \protect\[
  \mathbf£bindingﬂ (B, v\sb£1ﬂ, \ldots , v\sb£nﬂ, C)
  \protect\]
  is an \emph£OpenMathﬂ \emph£binding objectﬂ.ﬂ



\item


£ If \protect\(S\protect\) is an
\emph£OpenMathﬂ symbol and \protect\(A\sb£1ﬂ\protect\), \ldots , \protect\(A\sb£nﬂ\protect\) \protect\((n \geq  0)\protect\) are \emph£OpenMathﬂ objects, then
  \protect\[\mathbf£errorﬂ (S, A\sb£1ﬂ,\ldots ,A\sb£nﬂ)
  \protect\]
  is an \emph£OpenMathﬂ \emph£error objectﬂ.ﬂ



\end£enumerateﬂ

ﬂ


ﬂ
ﬂ

£
\section£Further Description of \emph£OpenMathﬂ Objectsﬂ\label£sec_ominﬂ





  



£Informally, an \emph£OpenMathﬂ \textsl£objectﬂ can be
viewed as a tree and is also referred to as a term.  The objects at
the leaves of \emph£OpenMathﬂ trees are called \textsl£basic
objectsﬂ.  The basic objects supported by \emph£OpenMathﬂ are:

\begin£descriptionﬂ


\item[Integer]


£Arbitrary Precision
integers.ﬂ

 

\item[Float]
 

£\emph£OpenMathﬂ floats are
\textsc£ieeeﬂ 754 Double precision floating-point
numbers. Other types of floating point number may be encoded in \emph£OpenMathﬂ
by the use of suitable content dictionaries.ﬂ


  



\item[Character strings]


£are
  sequences of characters. These characters come from the Unicode
  standard†\cite£UNICODEﬂ.ﬂ


  


\item[Bytearrays]


£are sequences of bytes. There is no ``byte'' in \emph£OpenMathﬂ 
  as an object of its own. However, a single byte can of course be
  represented by a bytearray of length 1.  The difference between
  strings and bytearrays is the following: a character string is a
  sequence of bytes with a fixed interpretation (as characters,
  Unicode texts may require several bytes to code one character),
  whereas a bytearray is an uninterpreted sequence of bytes with no
  intrinsic meaning.  Bytearrays could be used inside \emph£OpenMathﬂ errors to
  provide information to, for example, a debugger; they could also
  contain intermediate results of calculations, or `handles' into
  computations or databases.ﬂ





\item[Symbols]

  
  
  

£
 are uniquely defined by the Content Dictionary in which they occur
  and by a name. In definition in Section†3.1 we have
  left this information implicit. However, it should be kept in mind
  that all symbols appearing in an \emph£OpenMathﬂ object are defined in a
  Content Dictionary. The form of these definitions is explained in
  Chapter†5.  Each symbol has no more than one
  definition in a Content Dictionary. Many Content Dictionaries may
  define differently a symbol with the same name (e.g., the symbol
  \texttt£unionﬂ is defined as
  associative-commutativeset theoretic union in a Content Dictionary
  \texttt£set1ﬂ but another Content Dictionary,
  \texttt£multiset1ﬂ might define a symbol
  \texttt£unionﬂ as the union of multi-sets.  The name
  of a symbol can only contain alphanumeric characters and
  underscores.  More precisely, a symbol name matches the following
  regular expression: 
\begin£quotationﬂ


£
  [\texttt£Aﬂ-\texttt£Zﬂ\texttt£aﬂ-\texttt£zﬂ]
  [\texttt£Aﬂ-\texttt£Zﬂ\texttt£aﬂ-\texttt£zﬂ\texttt£0ﬂ-\texttt£9ﬂ\texttt£_ﬂ]*
  ﬂ


\end£quotationﬂ
ﬂ


  
  

£Notice that these symbol names are case sensitive.  \emph£OpenMathﬂ
  \emph£recommendsﬂ that symbol names should be no longer than
  100 characters.ﬂ


 
  


\item[Variables]


£are meant to
  denote parameters, variables or indeterminates (such as bound
  variables of function definitions, variables in summations and
  integrals, independent variables of derivatives).  Plain variable
  names are restricted to use a subset of the printable ASCII
  characters.  Formally the names must match the regular expression:
  
\begin£quotationﬂ


£
[\texttt£Aﬂ-\texttt£Zﬂ\texttt£aﬂ-\texttt£zﬂ\texttt£0ﬂ-\texttt£9ﬂ\texttt£=+(),-./:?!#$%*;=@[]^_`{|}ﬂ]+
  ﬂ


\end£quotationﬂ
ﬂ


   



\end£descriptionﬂ
 ﬂ





£The four following constructs can be used to make compound \emph£OpenMathﬂ
objects.ﬂ




\begin£descriptionﬂ


\item[Application]


£constructs an
  \emph£OpenMathﬂ object from a sequence of one or more \emph£OpenMathﬂ objects. The first
  argument of application is referred to as ``head'' while
  the remaining objects are called ``arguments''.  An \emph£OpenMathﬂ
  application object can be used to convey the mathematical notion of
  application of a function to a set of arguments.  For instance,
  suppose that the \emph£OpenMathﬂ symbol \texttt£sinﬂ is defined
  in a Content Dictionary for trigonometry, then \protect\(\mathbf£applicationﬂ(sin,
  x )\protect\) is the abstract \emph£OpenMathﬂ object
  corresponding to \protect\(sin (x
  )\protect\).  More generally, an \emph£OpenMathﬂ application object can
  be used as a constructor to convey a mathematical object built from
  other objects such as a polynomial constructed from a set of
  monomials.  Constructors build inhabitants of some symbolic type,
  for instance the type of rational numbers or the type of
  polynomials.  The rational number, usually denoted as
  \protect\(1/2\protect\), is represented by the
  \emph£OpenMathﬂ application object \protect\(\mathbf£applicationﬂ(Rational,
  1, 2)\protect\). The symbol
  \texttt£Rationalﬂ must be defined, by a Content
  Dictionary, as a constructor symbol for the rational numbers.ﬂ


   

\begin£figureﬂ


      \includegraphics£lambdaﬂ


\caption£The \emph£OpenMathﬂ application and binding objects for
\protect\(sin (x )\protect\) and
\protect\(\lambda  x.x +
2\protect\) in tree-like notation.ﬂ\label£fig_objﬂ
\end£figureﬂ


  



\item[Binding]


£objects are
  constructed from an \emph£OpenMathﬂ object, and from a sequence of zero or more
  variables followed by another \emph£OpenMathﬂ object.  The first \emph£OpenMathﬂ object is
  the ``binder'' object. Arguments 2 to
  \protect\(n-1\protect\) are always variables to
  be bound in the ``body'' which is the
  \protect\(n\sp£thﬂ\protect\) argument object. It
  is allowed to have no bound variables, but the binder object and the
  body should be present. Binding can be used to express functions or
  logical statements.  The function \protect\(\lambda 
  x.x +2\protect\), in which
  the variable \protect\(x\protect\) is bound by
  \protect\(\lambda \protect\), corresponds to a binding object having
  as binder the \emph£OpenMathﬂ symbol \texttt£lambdaﬂ: \protect\[\mathbf£bindingﬂ(\mathtt£lambdaﬂ,
  x , \mathbf£applicationﬂ(plus,
  x ,
  2))\mbox£.ﬂ\protect\]ﬂ


  
  
  

£\color£redﬂBinding of several variables as in: \protect\[\mathbf£bindingﬂ
  (B,
  v\sb£1ﬂ,
  \ldots ,
  v\sb£nﬂ, C
  )\protect\] is semantically equivalent to composition of
  binding of a single variable, namely
  \protect\[
    \mathbf£bindingﬂ
    (
    B
    ,
    v\sb£1ﬂ
    ,
    (
    \mathbf£bindingﬂ
    (
    B
    ,
    v\sb£2ﬂ
    ,
    (
    \ldots 
    ,
    \mathbf£bindingﬂ
    (
    B
    ,
    v\sb£nﬂ
    ,
    C
    )
    \ldots 
    )
    \mbox£.ﬂ
  \protect\]
ﬂ


  
  
 

£\color£redﬂNote that it follows from
this that repeated occurrences of the same variable in a binding
operator are allowed. For example the object
  \protect\[
    \mathbf£bindingﬂ
    (\mathtt£lambdaﬂ, v ,
    v ,\mathbf£applicationﬂ
    (\mathtt£timesﬂ,v
    ,v) )\protect\] is semantically
    equivalent to: \protect\[\mathbf£bindingﬂ(\mathtt£lambdaﬂ,
    v, \mathbf£bindingﬂ
    (\mathtt£lambdaﬂ, v,\mathbf£applicationﬂ(\mathtt£timesﬂ,v,v)))\protect\]
    so that the outermost binding is actually a constant function
    (\protect\(v\protect\) does not occur free in the body \protect\(\mathbf£applicationﬂ
    (\mathtt£timesﬂ,v
    ,v) )\protect\)).ﬂ





£Phrasebooks are allowed to use \protect\(\alpha \protect\)
  conversion in order to avoid clashes of variable names. Suppose an
  object \protect\(\Omega \protect\) contains an occurrence of the
  object \protect\(\mathbf£bindingﬂ
  (B , v , C
  )\protect\).  This object \protect\(\mathbf£bindingﬂ (B ,
  v , C )\protect\) can be replaced
  in \protect\(\Omega \protect\) by \protect\(\mathbf£bindingﬂ (B ,
  z , C')\protect\) where
  \protect\(z\protect\) is a variable not occurring free in
  \protect\(C\protect\) and \protect\(C'\protect\) is obtained
  from \protect\(C\protect\) by replacing each free (i.e., not bound
  by any intermediate \textbf£bindingﬂ construct) occurrence
  of \protect\(v\protect\) by \protect\(z\protect\).  This
  operation preserves the semantics of the object
  \protect\(\Omega \protect\). In the above example, a phrasebook is
  thus allowed to transform the object to, e.g.  \protect\[\mathbf£bindingﬂ
  (\mathtt£lambdaﬂ, v , \mathbf£bindingﬂ (\mathtt£lambdaﬂ,
  z ,\mathbf£applicationﬂ
  (\mathtt£timesﬂ,z
  ,z)))\mbox£.ﬂ\protect\]
  \protect\[\mathbf£bindingﬂ(\mathtt£lambdaﬂ,
  z , \mathbf£applicationﬂ(plus,
  z ,
  2))\mbox£.ﬂ\protect\]
ﬂ




£\color£greenﬂRepeated occurrences of the same variable in a
  binding operator are allowed. An OpenMath application should treat a
  binding with multiple occurrences of the same variable as equivalent
  to the binding in which all but the last occurrence of each variable
  is replaced by a new variable which does not occur free in the body
  of the binding.  \protect\[\mathbf£bindingﬂ (\mathtt£lambdaﬂ,
  v , v ,\mathbf£applicationﬂ
  (\mathtt£timesﬂ,v
  ,v) )\protect\] is semantically
  equivalent to: \protect\[\mathbf£bindingﬂ (\mathtt£lambdaﬂ ,
  v\sp£'ﬂ , v
  ,\mathbf£applicationﬂ
  (\mathtt£timesﬂ,v
  ,v) )\protect\] so that the
  resulting function is actually a constant in its first argument
  (\protect\(v\sp£'ﬂ\protect\) does not occur free
  in the body \protect\(\mathbf£applicationﬂ
  (\mathtt£timesﬂ,v
  ,v) )\protect\)).ﬂ



  



\item[Attribution]


£decorates an
  object with a sequence of one or more pairs made up of an \emph£OpenMathﬂ
  symbol, the ``attribute'', and an associated \emph£OpenMathﬂ object,
  the ``value of the attribute''.  The value of the
  attribute can be an attribution object itself. As example of this,
  consider the \emph£OpenMathﬂ objects representing groups, automorphism groups,
  and group dimensions. It is then possible to attribute an \emph£OpenMathﬂ
  object representing a group by its automorphism group, itself
  attributed by its dimension.ﬂ





£Composition of attributions, as in
  \protect\[
\mathbf£attributionﬂ(\mathbf£attributionﬂ(A,
  S\sb£1ﬂ \hspace£.3emﬂ
  A\sb£1ﬂ,\ldots ,S\sb£hﬂ
  \hspace£.3emﬂ
  A\sb£hﬂ),
  S\sb££h+1ﬂﬂ
  \hspace£.3emﬂ
  A\sb££h+1ﬂﬂ,
  \ldots , S\sb£nﬂ \hspace£.3emﬂ A\sb£nﬂ)\protect\] is
  semantically equivalent to a single attribution, that is \protect\[\mathbf£attributionﬂ(A,
  S\sb£1ﬂ \hspace£.3emﬂ
  A\sb£1ﬂ,
  \ldots , S\sb£hﬂ \hspace£.3emﬂ A\sb£hﬂ,
  S\sb££h+1ﬂﬂ
  \hspace£.3emﬂ
  A\sb££h+1ﬂﬂ,
  \ldots , S\sb£nﬂ \hspace£.3emﬂ
  A\sb£nﬂ)\mbox£.ﬂ\protect\]
  The operation that produces an object with a single layer of
  attribution is called \texttt£flatteningﬂ.ﬂ





£Multiple attributes with the same name are allowed.  While the order
  of the given attributes does not imply any notion of priority,
  potentially it could be significant. For instance, consider the case
  in which \protect\(S\sb£hﬂ =
  S\sb£nﬂ\protect\)
 (\protect\(h < n\protect\)) in the example above. Then, the
  object is to be interpreted as if the value \protect\(A\sb£nﬂ\protect\) overwrites the
  value \protect\(A\sb£hﬂ\protect\).  (\emph£OpenMathﬂ however does not mandate that an application
  preserves the attributes or their order.)ﬂ






£Objects can be decorated in a multitude of
ways. In†\cite£OM_D131bﬂ, typing of \emph£OpenMathﬂ objects is
expressed by using an attribution. The object \protect\(\mathbf£attributionﬂ(A,
type \hspace£.3emﬂ t )\protect\)
represents the judgment stating that object \protect\(A\protect\)
has type \protect\(t\protect\). Note that both
\protect\(A\protect\) and \protect\(t\protect\) are \emph£OpenMathﬂ
objects.ﬂ





£Attribution can act as either annotation, in the sense of adornment,
  or as modifier. In the former case, replacement of the adorned
  object by the object itself is probably not harmful (preserves the
  semantics). In the latter case however, it may very well be.
  Therefore, attribution in general should by default be treated as a
  construct rather than as adornment. Only when the CD definitions of
  the attributes make it clear that they are adornments, can the
  attributed object be viewed as semantically equivalent to the
  stripped object.ﬂ



  



\item[Error]


£is made up of an \emph£OpenMathﬂ
  symbol and a sequence of zero or more \emph£OpenMathﬂ objects. This object has
  no direct mathematical meaning.  Errors occur as the result of some
  treatment on an \emph£OpenMathﬂ object and are thus of real interest only when
  some sort of communication is taking place. Errors may occur inside
  other objects and also inside other errors.  Error objects might
  consist only of a symbol as in the object: \protect\(\mathbf£errorﬂ (S
  )\protect\).ﬂ

 



\end£descriptionﬂ
 
ﬂ

£
\section£Summaryﬂ\label£sec_summaryﬂ




\begin£itemizeﬂ


\item


£\emph£OpenMathﬂ supports basic objects like integers, symbols,
  floating-point numbers, character strings, bytearrays, and
  variables.ﬂ



\item


£\emph£OpenMathﬂ compound objects are of four kinds: applications, bindings,
  errors, and attributions.ﬂ



\item


£\emph£OpenMathﬂ objects have the expressive power to cover all areas of
  computational mathematics.ﬂ



\end£itemizeﬂ





£Observe that an \emph£OpenMathﬂ application object is viewed as a ``tree'' by
software applications that do not understand Content Dictionaries,
whereas a Phrasebook that understands the semantics of the symbols, as
defined in the Content Dictionaries, should interpret the object as
functional application, constructor, or binding accordingly. Thus, for
example, for some applications, the \emph£OpenMathﬂ object corresponding
to \protect\(2+5\protect\) may result in a command that writes \protect\(7\protect\).ﬂ


ﬂ




\chapter£\emph£OpenMathﬂ Encodingsﬂ\label£cha_encoﬂ






£In this chapter, two encodings are defined that map between  \emph£OpenMathﬂ
objects and byte streams.  These byte streams constitute a low level
representation that can be easily exchanged between processes (via
almost any communication method) or stored and retrieved from files.ﬂ






£The first encoding uses  ISO 646:1983 characters†\cite£iso646_83ﬂ
(also known as \textsc£asciiﬂ characters) and is  an \textsc£xmlﬂ
application. Although the \textsc£xmlﬂ markup of the encoding uses only \textsc£asciiﬂ
characters, OpenMath strings may use
arbitrary Unicode/ISO 10646:1988 
characters†\cite£UNICODEﬂ. 
It can be used, for example, to send \emph£OpenMathﬂ objects via
e-mail, news, cut-and-paste, etc. The texts produced by this encoding
can be part of \textsc£xmlﬂ documents.ﬂ





£The second encoding is a binary encoding that is meant to be used when 
the compactness of the encoding is important (interprocess communications 
over a network is an example).ﬂ





£Note that these two encodings are sufficiently different for
autodetection to be effective: an application reading the bytes can
very easily determine which encoding is used.ﬂ



£
\section£The \textsc£xmlﬂ Encodingﬂ\label£sec_xmlﬂ





£This encoding has been designed with two main goals in mind:

\begin£enumerateﬂ


\item


£to provide an encoding that uses the most common character set
  (so that it can be easily included in most documents and transport
  protocols) and that is both readable and writable by a human.ﬂ



\item


£to provide an encoding that can be included (embedded) in
  \textsc£xmlﬂ documents.ﬂ



\end£enumerateﬂ
 
ﬂ



£
\subsection£A Grammar for the \textsc£xmlﬂ Encodingﬂ\label£ssec_xmlﬂ








£The \textsc£xmlﬂ encoding of an OpenMath object is defined by the \textsc£dtdﬂ given
in Figure†4.1 below, with the following additional rules
not implied by the \textsc£xmlﬂ \textsc£dtdﬂ.ﬂ



\begin£itemizeﬂ


\item


£Comments are permitted only between
elements, not within element character data.ﬂ



\item


£Processing Instructions are only allowed before the \textsc£OMOBJﬂ
 element.ﬂ



\item


£The content of an \textsc£OMBﬂ element, is a valid base64-encoded text.ﬂ



\item


£The character data forming element content and attribute values
matches the regular expressions of Figure†4.2.ﬂ



\end£itemizeﬂ




\begin£figureﬂ


    
£\footnotesize
\begin£verbatimﬂ
<!-- DTD for OM Objects - sb 29.10.98 -->
<!-- sb 3.2.99 -->

<!--
     general list of embeddable elements
      : excludes OMATP as this is only embeddable in OMATTR
      : excludes OMBVAR as this is only embeddable in OMBIND
-->

<!ENTITY % omel "OMS | OMV | OMI | OMB | OMSTR
                           | OMF | OMA | OMBIND | OME | OMATTR ">

<!-- things which can be variables -->

<!ENTITY % omvar "OMV | OMATTR" >

<!-- symbol -->
<!ELEMENT OMS EMPTY>
<!ATTLIST OMS name CDATA #REQUIRED  cd CDATA #REQUIRED >

<!-- variable -->
<!ELEMENT OMV EMPTY>
<!ATTLIST OMV name CDATA #REQUIRED >

<!-- integer -->
<!ELEMENT OMI (#PCDATA) >

<!-- byte array -->
<!ELEMENT OMB (#PCDATA) >

<!-- string -->
<!ELEMENT OMSTR (#PCDATA) >

<!-- floating point -->
<!ELEMENT OMF EMPTY>
<!ATTLIST OMF dec CDATA #IMPLIED  hex CDATA #IMPLIED>

<!-- apply constructor -->
<!ELEMENT OMA (%omel;)+ >

<!-- binding constructor & variable -->
<!ELEMENT OMBIND ((%omel;), OMBVAR, (%omel;)) >
<!ELEMENT OMBVAR (%omvar;)+ >

<!-- error -->
<!ELEMENT OME (OMS, (%omel;)* ) >

<!-- attribution constructor & attribute pair constructor -->
<!ELEMENT OMATTR (OMATP, (%omel;)) >
<!ELEMENT OMATP (OMS, (%omel;))+ >

<!-- OM object constructor -->
<!ELEMENT OMOBJ (%omel;) >
\end{verbatim}\par\vspace£-10ptﬂﬂ



\caption£DTD for the \emph£OpenMathﬂ \textsc£xmlﬂ encoding of objects.ﬂ\label£fig_objdtdﬂ
\end£figureﬂ





£In addition, if the \textsc£xmlﬂ document encoding the \emph£OpenMathﬂ object is
linearised into the \textsc£xmlﬂ concrete syntax, the following further
constraints apply, which ensure thet the encoding may be read by \emph£OpenMathﬂ
applications that may not include a full \textsc£xmlﬂ parser.ﬂ




\begin£itemizeﬂ


\item


£The document should use \textsc£utf-8ﬂ encoding.ﬂ



\item
\color£redﬂ

£Entity and character references should not be used.ﬂ



\item


£A \texttt£<!DOCTYPEﬂ declaration should not be used.ﬂ



\item
\color£greenﬂ

£Character references should not be used. As \texttt£<!DOCTYPEﬂ
is not used, the only entity references that are allowed are the five predefined entity
references: 
\texttt£&apos;ﬂ ('),
\texttt£&quot;ﬂ ("),
\texttt£&lt;ﬂ (<),
\texttt£&gt;ﬂ (>),
\texttt£&amp;ﬂ (&).
ﬂ



\item


£The \textsc£xmlﬂ empty element form \texttt£<\ldots />ﬂ should always be
used to encode elements such as \textsc£omfﬂ which are specified in the
\textsc£dtdﬂ as
being \textsc£emptyﬂ. It should never be used for elements that may sometimes be
empty, such as \textsc£omstrﬂ.ﬂ



\end£itemizeﬂ




£Such a linearisation of an \textsc£xmlﬂ encoded \emph£OpenMathﬂ Object would match the
match the character based grammar given in Figure†4.2.ﬂ





£The notation used in this section and in Figure†4.2 should
be quite straightforward (+ meaning ``one or more'', ? meaning zero or
one, and \protect\(|\protect\) meaning ``or''). The start symbol of the grammar is
``start'', ``space'' stands for the space character, ``cr'' for the
carriage return character, ``nl'' for the line feed character and
``tab'' for the horizontal tabulation character.ﬂ





\begin£figureﬂ


    



£\footnotesize
\begin£tabularﬂ£cccccccccccccﬂ



S            \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  (space\protect\(|\protect\)tab\protect\(|\protect\)cr\protect\(|\protect\)nl)+  
 \cellsep 
\\





integer      \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  
        (\texttt£-ﬂ S?)? [0-9]+ (S [0-9]+)*  \protect\(|\protect\) 
        (\texttt£-ﬂ S?)? \texttt£xﬂ S? [0-9A-F]+ (S [0-9A-F]+)* 
 \cellsep 
\\



 

cdname       \cellsep  \protect\(\longrightarrow \protect\)  \cellsep   [a-z][a-z0-9\texttt£_ﬂ]*
 \cellsep 
\\





symbname     \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  [A-Za-z][A-Za-z0-9\texttt£_ﬂ]*
 \cellsep 
\\





fpdec        \cellsep  \protect\(\longrightarrow \protect\)  \cellsep   
    (\texttt£-ﬂ?)([0-9]+)?(\texttt£.ﬂ[0-9]+)?(\texttt£eﬂ([+-]?)[0-9]+)?
 \cellsep 
\\





fphex        \cellsep  \protect\(\longrightarrow \protect\)  \cellsep   [0-9ABCDEF]+ 
 \cellsep 
\\





varname         \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  ([A-Za-z0-9+=(),-./:?!#$%*;@[]^_`{|}])+ 
 \cellsep 
\\





base64       \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  ([A-Za-z0-9 +/=] \protect\(|\protect\) S)+ 
 \cellsep 
\\



char   \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  \emph£XML Character Dataﬂ
 \cellsep 
\\


\end£tabularﬂﬂ






\begin£tabularﬂ£cccccccccccccﬂ



symbnameatt \cellsep  \protect\(\longrightarrow \protect\) \cellsep  
    \texttt£nameﬂ S? = S? (\texttt£"ﬂ symbname \texttt£"ﬂ \texttt£|ﬂ \texttt£'ﬂ symbname \texttt£'ﬂ) 
 \cellsep 
\\




cdnameatt \cellsep  \protect\(\longrightarrow \protect\) \cellsep 
 \texttt£cdﬂ S? = S? (\texttt£"ﬂ cdname \texttt£"ﬂ \texttt£|ﬂ \texttt£'ﬂ cdname \texttt£'ﬂ) 
 \cellsep 
\\




varnameatt \cellsep  \protect\(\longrightarrow \protect\) \cellsep 
 \texttt£nameﬂ S? = S? (\texttt£"ﬂ varname \texttt£"ﬂ \texttt£|ﬂ \texttt£'ﬂ varname \texttt£'ﬂ) 
 \cellsep 
\\




fpdecatt \cellsep  \protect\(\longrightarrow \protect\) \cellsep 
 \texttt£decﬂ S? = S? (\texttt£"ﬂ fpdec \texttt£"ﬂ \texttt£|ﬂ \texttt£'ﬂ fpdec \texttt£'ﬂ) 
 \cellsep 
\\




fphexatt \cellsep  \protect\(\longrightarrow \protect\) \cellsep 
 \texttt£hexﬂ S? = S? (\texttt£"ﬂ fphex \texttt£"ﬂ \texttt£|ﬂ \texttt£'ﬂ fphex \texttt£'ﬂ) 
 \cellsep 
\\




PI  \cellsep  \protect\(\longrightarrow \protect\) \cellsep  <\texttt£?ﬂ char \texttt£?ﬂ\texttt£>ﬂ
 \cellsep 
\\




comment \cellsep  \protect\(\longrightarrow \protect\) \cellsep  <\texttt£!--ﬂ char \texttt£--ﬂ\texttt£>ﬂ
 \cellsep 
\\





SC \cellsep \protect\(\longrightarrow \protect\) \cellsep  S+ \texttt£|ﬂ (comment S)+
 \cellsep 
\\





start   \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  
 (SC \texttt£|ﬂ PI)* \texttt£<OMOBJﬂ S?\texttt£>ﬂ S? object S? \texttt£</OMOBJﬂ S?\texttt£>ﬂ 
 \cellsep 
\\





symbol    \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  
  \texttt£<OMSﬂ S  symbnameatt S cdnameatt  S? \texttt£/>ﬂ
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)                \cellsep 
  \texttt£<OMSﬂ S cdnameatt S symbnameatt S? \texttt£/>ﬂ
 \cellsep 
\\





variable  \cellsep  \protect\(\longrightarrow \protect\)  \cellsep 
   \texttt£<OMVﬂ S varnameatt S? \texttt£/>ﬂ
 \cellsep 
\\




          \cellsep  \protect\(|\protect\) 
          \cellsep  \texttt£<OMATTRﬂ S?\texttt£>ﬂ SC? omatp SC? variable SC? \texttt£</OMATTRﬂ S?\texttt£>ﬂ
 \cellsep 
\\




omatp  \cellsep  \protect\(\longrightarrow \protect\)  \cellsep 
     \texttt£<OMATPﬂ S?\texttt£>ﬂ SC? attrs SC? \texttt£</OMATPﬂ S?\texttt£>ﬂ 
 \cellsep 
\\







object  \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  symbol 
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)            \cellsep  variable 
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)            \cellsep  \texttt£<OMIﬂ S?\texttt£>ﬂ S? integer S? \texttt£</OMIﬂ S?\texttt£>ﬂ
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)            \cellsep  \texttt£<OMFﬂ S fpdecatt S? \texttt£/>ﬂ
 \cellsep 
\\



  
        \cellsep  \protect\(|\protect\)            \cellsep  \texttt£<OMFﬂ S fphexatt S? \texttt£/>ﬂ
 \cellsep 
\\



  
        \cellsep  \protect\(|\protect\)            \cellsep  \texttt£<OMSTRﬂ S?\texttt£>ﬂ char \texttt£</OMSTRﬂ S?\texttt£>ﬂ 
 \cellsep 
\\



  
        \cellsep  \protect\(|\protect\)            \cellsep  \texttt£<OMBﬂ S?\texttt£>ﬂ base64  \texttt£</OMBﬂ S?\texttt£>ﬂ 
 \cellsep 
\\



   
        \cellsep  \protect\(|\protect\)            \cellsep  \texttt£<OMAﬂ S?\texttt£>ﬂ SC? object SC? objects SC? \texttt£</OMAﬂ S?\texttt£>ﬂ
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)            \cellsep  \texttt£<OMBINDﬂ S?\texttt£>ﬂ SC? object SC? 
 \cellsep 
\\




        \cellsep  \cellsep  \texttt£<OMBVARﬂ S?\texttt£>ﬂ SC? variables SC? \texttt£</OMBVARﬂ S?\texttt£>ﬂ 
 \cellsep 
\\




        \cellsep  \cellsep  SC? object SC? \texttt£</OMBINDﬂ S?\texttt£>ﬂ
 \cellsep 
\\



 
        \cellsep  \protect\(|\protect\)            \cellsep  \texttt£<OMEﬂ S?\texttt£>ﬂ SC? symbol SC? objects SC? \texttt£</OMEﬂ S?\texttt£>ﬂ 
 \cellsep 
\\



  
        \cellsep  \protect\(|\protect\)            \cellsep  \texttt£<OMATTRﬂ S?\texttt£>ﬂ SC?  \texttt£<OMATPﬂ S?\texttt£>ﬂ SC? attrs SC? \texttt£</OMATPﬂ S?\texttt£>ﬂ   
 \cellsep 
\\




        \cellsep  \cellsep SC? object SC? \texttt£</OMATTRﬂ S?\texttt£>ﬂ  
 \cellsep 
\\



  
 

attrs   \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  symbol S? object   
 \cellsep 
\\



 
        \cellsep  \protect\(|\protect\)                \cellsep  symbol S? object S? attrs 
 \cellsep 
\\






objects  \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  SC?     
 \cellsep 
\\




         \cellsep  \protect\(|\protect\)                \cellsep  object SC? objects  
 \cellsep 
\\





variables  \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  SC?   
 \cellsep 
\\



 
         \cellsep  \protect\(|\protect\)                \cellsep  variable SC? variables  
 \cellsep 
\\




 \cellsep 
\\


\end£tabularﬂ





\caption£Grammar for the \textsc£xmlﬂ encoding of \emph£OpenMathﬂ objects.ﬂ\label£fig_xmlﬂ
\end£figureﬂ

ﬂ

£
\subsection£Description of the Grammarﬂ\label£sec_xml-descﬂ







£An encoded \emph£OpenMathﬂ object is placed inside an \texttt£OMOBJﬂ element.  This 
element can contain the elements (and integers) as described above.ﬂ





£We briefly discuss the \textsc£xmlﬂ encoding for each type of \emph£OpenMathﬂ object
starting from the basic objects.ﬂ




\begin£descriptionﬂ


\item[Integers]





£are encoded using the \texttt£OMIﬂ element around the
  sequence of their digits in base 10 or 16 (most significant digit
  first).  White space may be inserted between the characters of the
  integer representation, this will be ignored.
  After ignoring white
  space, integers written in base 10 match the regular expression
  \texttt£-?[0-9]+ﬂ.  Integers written in base 16 match
  \texttt£-?x[0-9A-F]+ﬂ.
The integer 10 can be thus encoded as
  \texttt£<OMI> 10 </OMI> ﬂ or as \texttt£<OMI> xA </OMI> ﬂ
  but neither \texttt£<OMI> +10 </OMI>ﬂ nor \texttt£<OMI> +xA </OMI>ﬂ
  can be used.ﬂ





£The negative integer \protect\(-120\protect\) can be encoded as either as decimal
       \texttt£<OMI> -120 </OMI>ﬂ or  as hexadecimal \texttt£<OMI> -x78 </OMI>ﬂ.ﬂ



  



\item[Symbols]


£are encoded using the \texttt£OMSﬂ element. This element
  has two \textsc£xmlﬂ-attributes \texttt£cdﬂ and \texttt£nameﬂ. The value
  of \texttt£cdﬂ is the name of the Content Dictionary in which the
  symbol is defined and the value of \texttt£nameﬂ is the name of the
  symbol.  The name of the Content Dictionary is compulsory, but a
  future revision of the \emph£OpenMathﬂ standard might introduce a defaulting
  mechanism.  For example, \texttt£<OMS cd="transc" name="sin"/>ﬂ is the
  encoding of the symbol named \texttt£sinﬂ in the Content Dictionary
  named \texttt£transcﬂ.ﬂ


  



\item[Variables]


£are encoded using the \texttt£OMVﬂ element, with only
  one \textsc£xmlﬂ-attribute, \texttt£nameﬂ, whose value is the variable
  name.  The variable name is a subset of the printable \textsc£asciiﬂ
 set of characters.
  In particular, neither spaces nor double-quote \texttt£"ﬂ are allowed
  in variable names.  For instance, the encoding of the object
  representing the variable \protect\(x\protect\) is:
    \texttt£<OMV  name="x"/>ﬂﬂ



  



\item[Floating-point numbers]


£are encoded using the \texttt£OMFﬂ element
  that has either the \textsc£xmlﬂ-attribute \texttt£decﬂ or the
  \textsc£xmlﬂ-attribute \texttt£hexﬂ. The two \textsc£xmlﬂ-attributes
  cannot be present simultaneously. The value of \texttt£decﬂ is the
  floating-point number expressed in base 10, using the common syntax:ﬂ


  
  
\begin£quotationﬂ


£
  \texttt£(-?)([0-9]+)?("."[0-9]+)?(e(-?)[0-9]+)?ﬂ.
  ﬂ


\end£quotationﬂ

  
  

£The value of \texttt£hexﬂ is the digits of the floating-point number
  expressed in base 16, with digits \texttt£0ﬂ-\texttt£9ﬂ, \texttt£Aﬂ-\texttt£Fﬂ
  (mantissa, exponent, and sign from lowest to highest bits) using a
  least significant byte ordering.  For example, \texttt£<OMF
    dec="1.0e-10"/>ﬂ is a valid floating-point number.ﬂ


  




\item[Character strings]


£are encoded using the \texttt£OMSTRﬂ element.
  Its content is  a Unicode text (The default encoding 
  is \textsc£utf-8ﬂ\cite£utf8ﬂ, although \textsc£xmlﬂ encoded OpenMath may be embedded
 in a containing \textsc£xmlﬂ document that specifies alternative encoding in
  the \textsc£xmlﬂ declaration. Note that as always in \textsc£xmlﬂ the
  characters \texttt£<ﬂ and \texttt£&ﬂ  need to be represented by the
  entity references \texttt£<ﬂ and \texttt£&ﬂ respectively.ﬂ


  



\item[Bytearrays]


£are encoded using the \texttt£OMBﬂ element. Its content
  is a sequence of characters that is a base64 encoding of the data.
  The base64 encoding is defined in \textsc£rfcﬂ 1521 \cite£rfc1521ﬂ.
  Basically, it represents an arbitrary sequence of octets using 64
  ``digits'' (\texttt£Aﬂ through \texttt£Zﬂ, \texttt£aﬂ through \texttt£zﬂ, \texttt£0ﬂ through \texttt£9ﬂ, \texttt£+ﬂ and /, in order of increasing
  value). Three octets are represented as four digits (the \texttt£=ﬂ
  character for padding to the right at the end of the data). All line
  breaks and carriage return, space, form feed and horizontal
  tabulation characters are ignored. The reader is refered to
  \cite£rfc1521ﬂ for more detailed information.ﬂ






\end£descriptionﬂ

 


£In detail the encoding of an \emph£OpenMathﬂ object is described below.ﬂ




\begin£descriptionﬂ


\item[Applications]


£are encoded using the \texttt£OMAﬂ element. The
  application whose root is the \emph£OpenMathﬂ object \protect\(e\sb£0ﬂ\protect\) and whose arguments
  are the \emph£OpenMathﬂ objects \protect\(e\sb£1ﬂ\protect\), \ldots , \protect\(e\sb£nﬂ\protect\) is encoded as \texttt£<OMA>ﬂ
  \protect\(C\sb£0ﬂ\protect\) \protect\(C\sb£1ﬂ\protect\)\ldots  \protect\(C\sb£nﬂ\protect\) \texttt£</OMA>ﬂ where \protect\(C\sb£iﬂ\protect\) is the encoding of
  \protect\(e\sb£iﬂ\protect\).ﬂ





£For example, \protect\(\mathbf£applicationﬂ(sin,x )\protect\) is encoded as:

\begin£verbatimﬂ
            <OMA>  
            <OMS cd="transc1" name="sin"/> 
            <OMV name="x"/>  
            </OMA> 
\end{verbatim}
 
  provided that the symbol \texttt£sinﬂ is defined to be a function
  symbol in a Content Dictionary named \texttt£transc1ﬂ.ﬂ



  



\item[Binding]


£is encoded using the \texttt£OMBINDﬂ element.  The binding
  by the \emph£OpenMathﬂ object \protect\(b\protect\) of the \emph£OpenMathﬂ variables \protect\(x\sb£1ﬂ\protect\), \protect\(x\sb£2ﬂ\protect\),
  \protect\(\ldots \protect\), \protect\(x\sb£nﬂ\protect\) in the object \protect\(c\protect\) is encoded as \texttt£<OMBIND>ﬂ \protect\(B\protect\)
  \texttt£<OMBVAR>ﬂ \protect\(X\sb£1ﬂ\protect\) \protect\(\ldots \protect\) \protect\(X\sb£nﬂ\protect\) \texttt£</OMBVAR>ﬂ \protect\(C\protect\) \texttt£</OMBIND>ﬂ where \protect\(B\protect\), \protect\(C\protect\), and \protect\(X\sb£iﬂ\protect\) are the encodings of \protect\(b\protect\), \protect\(c\protect\)
  and \protect\(x\sb£iﬂ\protect\), respectively.ﬂ





£For instance the encoding of
  \protect\(\mathbf£bindingﬂ
       (\mathtt£lambdaﬂ,
  x,\mathbf£applicationﬂ
     (sin, x))\protect\) is:

\begin£verbatimﬂ 
      <OMBIND>
        <OMS cd="fns1" name="lambda"/>  
        <OMBVAR>
          <OMV name="x"/>
        </OMBVAR>  
        <OMA>
          <OMS cd="transc1" name="sin"/> 
          <OMV name="x"/>  
        </OMA>
      </OMBIND>
\end{verbatim}
 ﬂ


  


£Binders are defined in  Content Dictionaries, in particular,
  the symbol \texttt£lambdaﬂ is defined in the Content Dictionary
  \texttt£fns1ﬂ for functions over functions.ﬂ


  



\item[Attributions]


£are encoded using the \texttt£OMATTRﬂ element.  If
  the \emph£OpenMathﬂ object \protect\(e\protect\) is attributed with (\protect\(s\sb£1ﬂ\protect\), \protect\(e\sb£1ﬂ\protect\)), \ldots , 
  (\protect\(s\sb£nﬂ\protect\), \protect\(e\sb£nﬂ\protect\)) pairs (where \protect\(s\sb£iﬂ\protect\) are the attributes), it is encoded
  as \texttt£<OMATTR>ﬂ \texttt£<OMATP>ﬂ \protect\(S\sb£1ﬂ\protect\) \protect\(C\sb£1ﬂ\protect\) \ldots  \protect\(S\sb£nﬂ\protect\) \protect\(C\sb£nﬂ\protect\) \texttt£</OMATP>ﬂ \protect\(E\protect\) \texttt£</OMATTR>ﬂ where \protect\(S\sb£iﬂ\protect\) is the encoding of the
  symbol \protect\(s\sb£iﬂ\protect\), \protect\(C\sb£iﬂ\protect\) of the object \protect\(e\sb£iﬂ\protect\) and \protect\(E\protect\) is the encoding of
  \protect\(e\protect\).ﬂ





£Examples are the use of attribution to decorate a group by its
  automorphism group:

\begin£verbatimﬂ
          <OMATTR>    
             <OMATP>
                  <OMS cd="groups" name="automorphism_group" />  
                  [..group-encoding..] 
             </OMATP>  
             [..group-encoding..] 
          </OMATTR>  
\end{verbatim}
 
or to express the type of a variable:

\begin£verbatimﬂ 
          <OMATTR>    
              <OMATP>
                   <OMS cd="ecc" name="type" /> 
                   <OMS cd="ecc" name="real" />
              </OMATP> 
              <OMV name="x" />
          </OMATTR>
\end{verbatim}
 ﬂ



  



\item[Errors]


£are encoded using the \texttt£OMEﬂ element. The error whose
  symbol is \protect\(s\protect\) and whose arguments are the \emph£OpenMathﬂ objects \protect\(e\sb£1ﬂ\protect\),
  \ldots , \protect\(e\sb£nﬂ\protect\) is encoded as \texttt£<OME>ﬂ \protect\(C\sb£sﬂ\protect\) \protect\(C\sb£1ﬂ\protect\)\ldots  \protect\(C\sb£nﬂ\protect\) \texttt£</OME>ﬂ where \protect\(C\sb£sﬂ\protect\) is the encoding of \protect\(s\protect\) and \protect\(C\sb£iﬂ\protect\) the encoding
  of \protect\(e\sb£iﬂ\protect\).ﬂ





£If an \texttt£aritherrorﬂ Content Dictionary contained a
  \texttt£DivisionByZeroﬂ symbol, then the object
  \protect\(\mathbf£errorﬂ(DivisionByZero, \mathbf£applicationﬂ
  (divide, 
  x, 0))\protect\) would be encoded as follows:


\begin£verbatimﬂ 
            <OME>
            <OMS cd="aritherror" name="DivisionByZero"/>  
            <OMA>
                 <OMS cd="arith1" name="divide" />
                 <OMV name="x"/>  
                 <OMI> 0 </OMI>
            </OMA> 
            </OME>
\end{verbatim}
ﬂ

   
  



\end£descriptionﬂ




ﬂ

£
\subsection£Embedding OpenMath in XML Documentsﬂ\label£xmldocﬂ



     


£The above encoding of \textsc£xmlﬂ encoded \emph£OpenMathﬂ specifies the grammar to be
used in files that encode a single \emph£OpenMathﬂ object, and specifies the
character streams that a conforming \emph£OpenMathﬂ application should be able
to accept or produce.ﬂ





£When embedding \textsc£xmlﬂ encoded \emph£OpenMathﬂ objects into a larger XML document
one may wish, or need, to use other XML features. For example use of
extra \textsc£xmlﬂ attributes to specify \textsc£xmlﬂ Namespaces†\cite£xmlnsﬂ
or xml:lang attributes to specify the language used in strings†\cite£xmlﬂ.
Also, the encoding used in the larger document may not be \textsc£utf-8ﬂ.ﬂ



 


£In particular, if \emph£OpenMathﬂ  is used with applications that use the XML
Namespace Recommendation†\cite£xmlnsﬂ then they should ensure
that \emph£OpenMathﬂ elements are in the namespace
\texttt£http://www.openmath.org/OpenMathﬂ
This is most conveniently achieved by adding the namespace declaration

\begin£verbatimﬂ
xmlns="http://www.openmath.org/OpenMath"
\end{verbatim}

as an attribute to each \texttt£OMOBJﬂ element in the document.ﬂ





£If such \textsc£xmlﬂ features are used then the \textsc£xmlﬂ application controlling the
document must, if passing the \emph£OpenMathﬂ fragment to an \emph£OpenMathﬂ application,
remove any such extra attributes and must ensure that the
fragment is encoded according to the grammar specified above.ﬂ


ﬂ
ﬂ

£
\section£The Binary Encodingﬂ\label£sec_binaryﬂ







£The binary encoding was essentially designed to be more compact than
the \textsc£xmlﬂ encodings, so that it can be more efficient if large
amounts of data are involved. For the current encoding, we tried to
keep the right balance between compactness, speed of encoding and
decoding and simplicity (to allow a simple specification and easy
implementations).ﬂ



£
\subsection£A Grammar for the Binary Encodingﬂ\label£sec_binary_grammarﬂ





     


\begin£figureﬂ


    
    

\begin£tabularﬂ£cccccccccccccﬂ



start   \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  [24] object [25] 
 \cellsep 
\\




object  \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  integer 
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)                \cellsep  float 
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)                \cellsep  variable 
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)                \cellsep  symbol 
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)                \cellsep  string 
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)                \cellsep  bytearray 
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)                \cellsep  construct 
 \cellsep 
\\




integer  \cellsep \protect\(\longrightarrow \protect\)  \cellsep  [1] [_] 
 \cellsep 
\\




         \cellsep \protect\(|\protect\)                \cellsep  [1 + 128] {_} 
 \cellsep 
\\




         \cellsep \protect\(|\protect\)                \cellsep  [2] [n] [_] digits:n 
 \cellsep 
\\




         \cellsep \protect\(|\protect\)                \cellsep  [2 + 128] {n} [_] digits:n 
 \cellsep 
\\




float   \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  [3] {_} {_} 
 \cellsep 
\\




variable  \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  [5] [n] varname:n 
 \cellsep 
\\




          \cellsep  \protect\(|\protect\)                \cellsep  [5 + 128] {n} varname:n 
 \cellsep 
\\




          \cellsep  \protect\(|\protect\)                \cellsep  [5 + 64] [n] 
 \cellsep 
\\




symbol  \cellsep   \protect\(\longrightarrow \protect\)  \cellsep  [8] [n] [m] cdname:n symbname:m 
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)                 \cellsep  [8 + 128] {n} {m} cdname:n symbname:m 
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)                 \cellsep  [8 + 64] [n] 
 \cellsep 
\\




string  \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  [6] [n] chars:n 
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)                \cellsep  [6 + 128] {n} chars:n 
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)                \cellsep  [7] [n] chars:2n 
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)                \cellsep  [7 + 128] {n} chars:2n 
 \cellsep 
\\




        \cellsep  \protect\(|\protect\)                \cellsep  [7 + 64] [n] 
 \cellsep 
\\




bytearray  \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  [4] [n] bytes:n 
 \cellsep 
\\




           \cellsep  \protect\(|\protect\)                \cellsep  [4 + 128] {n} bytes:n 
 \cellsep 
\\




construct  \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  [16] object objects [17] 
 \cellsep 
\\




           \cellsep  \protect\(|\protect\)                \cellsep  [22] symbol objects [23] 
 \cellsep 
\\




           \cellsep  \protect\(|\protect\)                \cellsep  [18] attrpairs object [19] 
 \cellsep 
\\




           \cellsep  \protect\(|\protect\)                \cellsep  [26] object bvars object [27] 
 \cellsep 
\\




attrpairs  \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  [20] pairs [21]
 \cellsep 
\\




pairs      \cellsep   \protect\(\longrightarrow \protect\)  \cellsep  symbol object 
 \cellsep 
\\




           \cellsep  \protect\(|\protect\)                 \cellsep  symbol object pairs
 \cellsep 
\\




bvars     \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  [28] vars [29] 
 \cellsep 
\\




vars      \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  attrvar 
 \cellsep 
\\




          \cellsep   \protect\(|\protect\)               \cellsep  attrvar vars 
 \cellsep 
\\




attrvar   \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  variable 
 \cellsep 
\\




          \cellsep   \protect\(|\protect\)               \cellsep  [18] attrpairs attrvar [19] 
 \cellsep 
\\




objects   \cellsep  \protect\(\longrightarrow \protect\)  \cellsep  
 \cellsep 
\\




          \cellsep  \protect\(|\protect\)               \cellsep  object objects 
 \cellsep 
\\


\end£tabularﬂ





\caption£Grammar of the binary encoding of \emph£OpenMathﬂ objects.ﬂ\label£fig_bin-encﬂ
\end£figureﬂ










£Figure†4.3 gives a grammar for the binary encoding.  The
following conventions are used in this section: [\protect\(n\protect\)] denotes a byte
whose value is the integer \protect\(n\protect\) (\protect\(n\protect\) can range from 0 to 255), {\protect\(m\protect\)}
denotes four bytes representing the (unsigned) integer \protect\(m\protect\) in network
byte order, [_] denotes an arbitrary byte, {_} denotes an
arbitrary sequence of four bytes.  \emph£nameﬂ:\protect\(n\protect\) denotes a sequence
of \protect\(n\protect\) bytes named \emph£nameﬂ.  \emph£nameﬂ:2\protect\(n\protect\) denotes a sequence of
\protect\(2n\protect\) bytes.  ``start'' is the start symbol of the grammar.ﬂ



ﬂ

£
\subsection£Description of the Grammarﬂ\label£sec_bin-descﬂ







£An \emph£OpenMathﬂ object is encoded as a sequence of bytes starting with the
begin object tag (value†24) and ending with the end object tag
(value†25). These are similar to the \texttt£<OMOBJ>ﬂ and \texttt£</OMOBJ>ﬂ tags of
the \textsc£xmlﬂ encoding.ﬂ





£The encoding of each kind of \emph£OpenMathﬂ object begins with a tag that is a
single byte, holding a \textsl£token identifierﬂ and two flags, the \textsl£longﬂ flag and the \textsl£sharedﬂ flag. The identifier is stored in
the first 6 bits (1 to 6). The long flag is the eighth bit and the
shared flag is the seventh bit.ﬂ





£Here is a description of the binary encodings of every kind of \emph£OpenMathﬂ 
object:



\begin£descriptionﬂ


\item[Integers]


£are encoded depending on how large they are. There are
  four possible formats.  Integers between -128 and 127 are encoded as
  the small integer tag (1) followed by a single byte that is the
  value of the integer (interpreted as a signed character). For
  example 16 is encoded as \texttt£0x01 0x10ﬂ.  Integers between
  \protect\(-2\sp£31ﬂ\protect\) (\protect\(-2147483648\protect\)) and \protect\(2\sp£31ﬂ - 1\protect\) (\protect\(2147483647\protect\)) are encoded as
  the small integer tag with the long flag set followed by the integer
  encoded in little endian format on four bytes (network byte order:
  the most significant byte comes first). For example, 128 is encoded
  as \texttt£0x81ﬂ \texttt£0x00000080ﬂ.  The most general encoding begins
  with the big integer tag (token identifier 2) with the long flag set
  if the number of bytes in the encoding of the digits is greater or
  equal than 256. It is followed by the length (in bytes) of the
  sequence of digits, encoded on one byte (0 to 255, if the long flag
  was not set) or four bytes (network byte order, if the long flag was
  set).  It is then followed by a byte describing the sign and the
  base.  This 'sign/base' byte is \texttt£+ﬂ (0x2B) or \texttt£-ﬂ (0x2D)
  for the sign ored with the base mask bits that can be 0 for base 10
  or 0x40 for base 16.  It is followed by the strings of digits (as
  characters) in their natural order (as in the \textsc£xmlﬂ
  encoding).  For example, 8589934592 (\protect\(2\sp£33ﬂ\protect\)) is encoded \texttt£0x02
    0x0A 0x2B 0x38353839393334353932ﬂ and xfffffff1 is
  encoded as \texttt£0x02 0x08 0x6b 0x6666666666666631ﬂ.  Note that it is
  permitted to encode a ``small'' integer in any ``bigger'' format.ﬂ


  



\item[Symbols]


£are encoded as the symbol tag (8) with the long flag
  set if the maximum of the length of the Content Dictionary name and
  the symbol name is greater than or equal to 256 (note that this
  should never be the case if the rules on symbols and Content
  Dictionary names are applied), then followed by the length of the
  Content Dictionary name as a byte (if the long flag was not set)
  or a four byte integer (in network byte order) followed by the
  length of the symbol name as a byte (if the long flag was not set)
  or a four byte integer (in network byte order), followed by the
  characters of the Content Dictionary name, followed by the
  characters of the symbol name.ﬂ



  



\item[Variables]


£are encoded using the variable tag (5) with the long
  flag set if the number of bytes (characters) in the variable name is
  greater than or equal to 256 (this should never happen if the rules
  on variables are followed).  Then, there is the number of characters
  as a byte (if the long flag was not set) or a four byte integer
  (in network byte order), followed by the characters of the name of
  the variable. For example, the variable x is encoded as \texttt£0x05
    0x01 0x78ﬂ.ﬂ



  



\item[Floating-point number]


£are encoded using the floating-point
  number tag (3) followed by eight bytes that are the IEEE 754
  representation†\cite£ieee754_85ﬂ, most significant bytes first. For
  example, 0.1 is encoded as \texttt£0x03 0x000000000000f03fﬂ.ﬂ



  



\item[Character string]


£are encoded in two ways depending on whether
  the string contains \textsc£utf-16ﬂ characters or not. If the
  string contains only 8 bit characters, it is encoded as the one
  byte character string tag (6) with the long flag set if the number
  of bytes (characters) in the string is greater than or equal to 256.
  Then, there is the number of characters as a byte (if the length
  flag was not set) or a four byte integer (in network byte order),
  followed by the characters in the string. If the string contains two
  byte characters, it is encoded as the two byte character string
  tag (7) with the long flag set if the number of characters in the
  string is greater or equal to 256. Then, there is the number of
  characters as a byte (if the long flag was not set) or a four byte
  integer (in network byte order), followed by the characters
  (\textsc£utf-16ﬂ encoded  Unicode).ﬂ


 
  



\item[Bytearrays]


£are encoded using the bytearray tag (4) with the
  long flag set if the number of bytes in the number of elements is
  greater than or equal to 256. Then, there is the number of elements,
  as a byte (if the long flag was not set) or a four byte integer
  (in network byte order), followed by the elements of the arrays in
  their normal order.ﬂ


  
  



\item[Applications]


£are encoded using the application tag (16). More
  precisely, the application of \protect\(E\sb£0ﬂ\protect\) to \protect\(E\sb£1ﬂ\protect\)\ldots  \protect\(E\sb£nﬂ\protect\) is encoded
  using the application tag (16), the sequence of the encodings of
  \protect\(E\sb£0ﬂ\protect\) to \protect\(E\sb£nﬂ\protect\) and the end application tag (17).ﬂ


    



\item[Bindings]


£are encoded using the binding tag (26). More
  precisely, the binding by \protect\(B\protect\) of variables \protect\(V\sb£1ﬂ\protect\)\ldots  \protect\(V\sb£nﬂ\protect\) in
  \protect\(C\protect\) is encoded as the binding tag (26), followed by the encoding of
  \protect\(B\protect\), followed by the binding variables tag (28), followed by the
  encodings of the variables \protect\(V\sb£1ﬂ\protect\) \ldots  \protect\(V\sb£nﬂ\protect\), followed by the end
  binding variables tag (29), followed by the encoding of \protect\(C\protect\),
  followed by the end binding tag (27).ﬂ



  



\item[Attribution]


£are encoded using the attribution tag (18). More
  precisely, attribution of the object \protect\(E\protect\) with (\protect\(S\sb£1ﬂ\protect\), \protect\(E\sb£1ﬂ\protect\)),
  \protect\(\ldots \protect\) (\protect\(S\sb£nﬂ\protect\), \protect\(E\sb£nﬂ\protect\)) pairs (where \protect\(S\sb£iﬂ\protect\) are the attributes) is
  encoded as the attributed object tag (18), followed by the encoding
  of the attribute pairs as the attribute pairs tag (20), followed by
  the encoding of each symbol and value, followed by the end attribute
  pairs tag (21), followed by the encoding of \protect\(E\protect\), followed by the end
  attributed object tag (19).ﬂ



    



\item[Error]


£are encoded using the error tag (22). More precisely,
  \protect\(S\sb£0ﬂ\protect\) applied to \protect\(E\sb£1ﬂ\protect\)\ldots  \protect\(E\sb£nﬂ\protect\) is encoded as the error tag (22),
  the encoding of \protect\(S\sb£0ﬂ\protect\), the sequence of the encodings of \protect\(E\sb£0ﬂ\protect\) to
  \protect\(E\sb£nﬂ\protect\) and the end error tag (23).ﬂ






\end£descriptionﬂ
 
ﬂ


£
\subsubsection£Sharingﬂ\label£sec_sharingﬂ


 


£This binary encoding supports the sharing of symbols, variables and
strings (up to a certain length for strings) within one object. That
is, sharing between objects is not supported.  A reference to a shared
symbol, variable or string is encoded as the corresponding tag with
the long flag not set and the shared flag set, followed by a positive
integer \protect\(n\protect\) coded on one byte (0 to 255). This integer references the
\protect\(n + 1\protect\)-th such sharable sub-object (symbol, variable or string up to
255 characters) in the current \emph£OpenMathﬂ object (counted in the order they
are generated by the encoding).  For example, \texttt£0x48 0x01ﬂ
references a symbol that is identical to the second symbol that was
found in the current object.  Strings with 8 bit characters and
strings with 16 bit characters are two different kinds of objects for
this sharing. Only strings containing less than 256 characters can be
shared (i.e. only strings up to 255 characters).ﬂ


ﬂ
ﬂ

£
\subsection£Implementation Noteﬂ\label£sec_impl_noteﬂ




£A typical implementation of the binary encoding uses four tables, each
of 256 entries, for symbol, variables, 8 bit character strings whose
lengths are less than 256 characters and 16 bit character strings
whose lengths are less than 256 characters.  When an object is read,
all the tables are first flushed. Each time a sharable sub-object is
read, it is entered in the corresponding table if it is not full. When
a reference to the shared i-th object of a given type is read, it
stands for the i-th entry in the corresponding table. It is an
encoding error if the i-th position in the table has not already been
assigned (i.e. forward references are not allowed).  Sharing is not
mandatory, there may be duplicate entries in the tables (if the
application that wrote the object chose not to share optimally).ﬂ





£Writing an object is simple. The tables are first flushed. Each time a
sharable sub-object is encountered (in the natural order of output
given by the encoding), it is either entered in the corresponding
table (if it is not full) and output in the normal way or replaced by
the right reference if it is already present in the table.ﬂ


ﬂ

£
\subsection£Example of Binary Encodingﬂ\label£sec_bin_exampleﬂ





£As an example of this binary encoding, we can consider the \emph£OpenMathﬂ object
whose \textsc£xmlﬂ encoding is

\begin£verbatimﬂ 
<OMOBJ>
  <OMA>
    <OMS name="times" cd="arith1"/>
    <OMA>
      <OMS name="plus" cd="arith1"/>
      <OMV name="x"/>
      <OMV name="y"/>
    </OMA>
    <OMA>
      <OMS name="plus" cd="arith1"/>
      <OMV name="x"/>
      <OMV name="z"/>
    </OMA>
  </OMA>
</OMOBJ>
\end{verbatim}
 
It is binary encoded as the sequence of bytes given by  the following table.ﬂ



£\footnotesize
\begin£tabularﬂ£cccccccccccccﬂ



Hex  \cellsep     Meaning  \cellsep  Hex  \cellsep     Meaning 
 \cellsep 
\\




18   \cellsep     begin object tag    \cellsep    
68   \cellsep    h  .)
 \cellsep 
\\



 

10   \cellsep     begin application tag \cellsep 
31   \cellsep    1  .)
 \cellsep 
\\





08   \cellsep    symbol tag  \cellsep 
70   \cellsep    p (symbol name begin
 \cellsep 
\\





06   \cellsep     cd length  \cellsep 
6c   \cellsep    l  .
 \cellsep 
\\





05   \cellsep    name length \cellsep 
75   \cellsep    u  . 
 \cellsep 
\\





61   \cellsep     a (cd name begin \cellsep 
73   \cellsep    s  .) 
 \cellsep 
\\





72   \cellsep     r  . \cellsep 
05   \cellsep    variable tag 
 \cellsep 
\\





69   \cellsep    i  . \cellsep 
01   \cellsep    name length 
 \cellsep 
\\





74   \cellsep    t  . \cellsep 
78   \cellsep    x (name) 
 \cellsep 
\\





68   \cellsep    h  . \cellsep 
05   \cellsep    variable tag 
 \cellsep 
\\





31   \cellsep    1  .) \cellsep 
01   \cellsep    name length 
 \cellsep 
\\





74   \cellsep    t (symbol name begin \cellsep 
79   \cellsep    y (variable name) 
 \cellsep 
\\





69   \cellsep    i  . \cellsep 
11   \cellsep    end application tag 
 \cellsep 
\\





6d   \cellsep    m  . \cellsep 
10   \cellsep    begin application tag 
 \cellsep 
\\





65   \cellsep    e  . \cellsep 
48   \cellsep    symbol tag (with share bit on) 
 \cellsep 
\\





73   \cellsep    s  .) \cellsep 
01   \cellsep    reference to second symbol seen (arith1:plus) 
 \cellsep 
\\





10   \cellsep    begin application tag \cellsep 
45   \cellsep    variable tag (with share bit on) 
 \cellsep 
\\





08   \cellsep    symbol tag \cellsep 
00   \cellsep    reference to first variable seen (x) 
 \cellsep 
\\





06   \cellsep    cd length \cellsep 
05   \cellsep    variable tag 
 \cellsep 
\\





04   \cellsep    name length \cellsep 
01   \cellsep    name length 
 \cellsep 
\\





61   \cellsep    a (cd name begin \cellsep 
7a   \cellsep    z (variable name) 
 \cellsep 
\\





72   \cellsep    r  . \cellsep 
11   \cellsep    end application tag 
 \cellsep 
\\





69   \cellsep    i  . \cellsep 
11   \cellsep    end application tag 
 \cellsep 
\\





74   \cellsep    t  . \cellsep 
19   \cellsep    end object tag 
 \cellsep 
\\


\end£tabularﬂﬂ
 

ﬂ
ﬂ

£
\section£Summaryﬂ\label£sec_enc_summaryﬂ





£The key points of this chapter are:

\begin£itemizeﬂ


\item


£The \textsc£xmlﬂ encoding for \emph£OpenMathﬂ objects uses most common
  character sets.ﬂ



\item


£The \textsc£xmlﬂ encoding is readable, writable and can be
  embedded in most documents and transport protocols.ﬂ



\item


£The binary encoding for \emph£OpenMathﬂ objects should be used when
  efficiency is a key issue. It is compact yet simple enough to allow
  fast encoding and decoding of objects.ﬂ



\end£itemizeﬂ

ﬂ


ﬂ




\chapter£Content Dictionariesﬂ\label£cha_cdﬂ






£In this chapter we give a brief overview of Content Dictionaries
before explicitly stating their functionality and encoding.ﬂ


£
\section£Introductionﬂ\label£sec_cd_summaryﬂ





£Content Dictionaries (CDs) are central to the \emph£OpenMathﬂ philosophy of
transmitting mathematical information. It is the \emph£OpenMathﬂ Content
Dictionaries which actually hold the meanings of the objects being
transmitted.ﬂ





£For example if application \protect\(A\protect\) is talking to application \protect\(B\protect\), and
sends, say, an equation involving multiplication of matrices, then \protect\(A\protect\)
and \protect\(B\protect\) must agree on what a matrix is, and on what matrix
multiplication is, and even on what constitutes an equation. All this
information is held within some Content Dictionaries which both
applications agree upon.ﬂ





£A \emph£ Content Dictionaryﬂ holds the meanings of
(various) mathematical ``words''. These words are \emph£OpenMathﬂ basic objects
referred to as \emph£symbolsﬂ in Section†3.1.ﬂ





£With a set of symbol definitions (perhaps from several content
Dictionaries), \protect\(A\protect\) and \protect\(B\protect\) can now talk in a common ``language''.ﬂ





£It is important to stress that it is not Content Dictionaries
themselves which are being passed, but some ``mathematics'' whose
definitions are held within the Content Dictionaries. This means that
the applications must have already agreed on a set of Content
Dictionaries which they ``understand'' (i.e., can cope with to some
degree).ﬂ






£In many cases, the Content
Dictionaries that an application understands will be constant, and be
intrinsic to the application's mathematical use. However the above
approach can also be used for applications which can handle
every Content Dictionary (such as an \emph£OpenMathﬂ parser, or perhaps a
typesetting system), or alternatively for applications which
understand a changeable number of Content Dictionaries (perhaps after
being sent Content Dictionaries in some way).ﬂ





£The primary use of Content Dictionaries is thought to be for designers
of Phrasebooks,the programs which translate between the
\emph£OpenMathﬂ mathematical object and the corresponding (often internal)
structure of the particular application in question. For such a use
the Content Dictionaries have themselves been designed to be as
readable and precise as possible.ﬂ





£Another possible use for \emph£OpenMathﬂ Content Dictionaries could rely on their
automatic comprehension by a machine (e.g., when given definitions of
objects defined in terms of previously understood ones), in which case
Content Dictionaries may have to be passed as data. Towards this end,
a Content Dictionary has been written which contains a set of symbols
sufficient to represent any other Content Dictionary. This means that
Content Dictionaries may be passed in the same way as other (\emph£OpenMathﬂ)
mathematical data.ﬂ






£Finally, the syntax of the Content Dictionaries has been designed to
be relatively easy to learn and to write, and also free from the need
for any specialist software. This is because it is acknowledged that
there is an enormous amount of mathematical information to represent,
and so most of the Content Dictionaries will be written by
``ordinary'' mathematicians, encoding their particular fields of
expertise. 
A further reason is that the mathematics conveyed by a
specific Content Dictionary should be understandable independently of
any application.ﬂ





£The key points from this section are:


\begin£itemizeﬂ


\item


£Content Dictionaries should be readable and precise to help
  Phrasebook designers,ﬂ



\item


£Content Dictionaries should be readily write-able to encourage
  widespread use,ﬂ



\item


£It ought to be possible for a machine to understand a Content
  Dictionary to some degree.ﬂ



\end£itemizeﬂ

ﬂ


ﬂ

£
\section£Content Dictionariesﬂ\label£sect_funcﬂ





£In this section we define the overall structure of Content
Dictionaries.ﬂ






£Other than Content Dictionary comments (which have no real semantics),
Content Dictionaries have been designed to hold two types of
information: that which is pertinent to the whole Content Dictionary,
and that which is restricted to a particular symbol definition.
Specific information pertaining to the symbols like the signature and
the defining mathematical properties is conveyed in additional files
associated to Content Dictionaries.ﬂ





£Information that is pertinent to the whole Content Dictionary
includes:

\begin£itemizeﬂ


\item


£The name of the Content Dictionary.ﬂ



\item


£A description of the Content Dictionary.ﬂ



\item


£A date when the Content Dictionary is next planned to be reviewed.ﬂ



\item


£A date on which the Content Dictionary was last edited.ﬂ



\item


£The current version and revision  numbers of the Content Dictionary.ﬂ



\item


£The status of the Content Dictionary.ﬂ



\item


£An optional URL for this Content Dictionary.ﬂ



\item


£An optional list of Content Dictionaries on which this Content
  Dictionary depends. That is, those named in Examples and FMP
  in this Content Dictionary.ﬂ



\item


£An optional comment, possibly containing the author's name.ﬂ



\end£itemizeﬂ

ﬂ





£Information that is restricted to a particular symbol includes:

\begin£itemizeﬂ


\item


£The name of the symbol.ﬂ



\item


£A description of this symbol.ﬂ



\item


£An optional comment.ﬂ



\item


£Optional properties that this symbol should obey.ﬂ



\item


£Optional examples of the use of this symbol.ﬂ



\end£itemizeﬂ

ﬂ









£As mentioned earlier, certain kinds of data pertaining to symbols may
be conveyed in files other than a Content Dictionary.  In particular,
information on signatures according to a type system
may be described in \emph£Signature Filesﬂ whose format is given in
Section†5.4.1. Other information such as
presentation forms, extra defining mathematical properties may be
associated with Content Dictionaries using files whose format is not
specified by this standard. It is expected that a common method
of defining the presentation for \emph£OpenMathﬂ symbols is via
\textsc£xslﬂ†\cite£XSL_99ﬂ stylesheets giving transformations to MathML.ﬂ






£Content Dictionaries may be grouped into \emph£CD Groupsﬂ. These
groups allow applications to easily refer to collections of Content
Dictionaries. One particular CDGroup of interest is the ``MathML
CDGroup''. This group expresses the collection of the core Content
Dictionaries that is designed to have the same semantic scope as the
content elements of MathML†2†\cite£MathML_2000ﬂ.
 \emph£OpenMathﬂ objects built from
symbols that come from Content Dictionaries in this CDGroup may be
expected to be eaily transformed between \emph£OpenMathﬂ and MathML encodings.
The detailed structure of a CDGroup is described in
section†Section†5.4.2 below.ﬂ



ﬂ

£
\section£The XML Encoding for Content Dictionariesﬂ\label£sec_xml_cdﬂ








£Content Dictionaries are XML documents.  A valid Content Dictionary
document should 

\begin£itemizeﬂ


\item


£be valid according to  the DTD given in Figure†5.1,ﬂ



\item


£adhere to the extra conditions on the content of the elements
  given in Section†5.3.2.ﬂ



\end£itemizeﬂ

ﬂ







£An example of a complete Content Dictionary is given in
Appendix†Appendix†A.1, which is the \texttt£Metaﬂ Content Dictionary
for describing Content Dictionaries themselves. A more typical Content
Dictionary is given in Appendix†Appendix†A.2, the \texttt£arith1ﬂ
Content Dictionary for basic arithmetic functions.ﬂ




£
\subsection£The DTD Specification of  Content Dictionariesﬂ\label£sec_dtd_cdﬂ





\begin£figureﬂ


    
£\footnotesize
\begin£verbatimﬂ
<!-- omcd.dtd -->
<!-- ********************************************* -->
<!--                                               -->
<!-- DTD for OpenMath CD                           -->
<!-- (c) EP24969 the ESPRIT OpenMath Consortium    -->
<!-- date = 28.aug.1998                            -->
<!-- author = s.buswell sb@stilo.demon.co.uk       -->
<!--                                               -->
<!-- edited by n.howgrave-graham 30.aug.98         -->
<!-- edited by sb 4.sep.98                         -->
<!-- edited by nh-g 4.sep.98                       -->
<!-- edited by sb 1.nov.98                         -->
<!-- edited by sb 1.nov.98                         -->
<!-- edited by dpc 1999-04-13                      -->
<!-- edited by dpc 1999-05-11  CDDate & CDVersion  -->
<!-- edited by dpc 1999-06-21  Delete Signature & Presentation  -->
<!--                           Force Name to be first child of -->
<!--                           CDDefinition -->
<!--                                               -->
<!--                                               -->
<!-- ********************************************* -->
<!ELEMENT CDComment      (#PCDATA) >
<!ELEMENT CDName         (#PCDATA) >
<!ELEMENT CDURL          (#PCDATA) >
<!ELEMENT CDUses         (CDName)*  >
<!ENTITY % inhel        "(#PCDATA)" >
<!ENTITY % inhel2       "(#PCDATA | OMOBJ)*" >
<!ELEMENT CDReviewDate   %inhel; >
<!ELEMENT CDDate         %inhel; >
<!ELEMENT CDVersion      %inhel; >
<!ELEMENT CDRevision     %inhel; >
<!ELEMENT CDStatus       %inhel; >
<!ELEMENT Description    %inhel; >
<!ELEMENT Name           %inhel; >
<!ELEMENT CMP            %inhel; >
<!-- include dtd for OM objects -->
<!ENTITY  % omobjectdtd SYSTEM "omobj.dtd" >
%omobjectdtd;
<!ELEMENT FMP            (OMOBJ) >             <!-- embedded OM -->
<!ELEMENT Example        %inhel2; >
<!ELEMENT CDDefinition    (Name, Description,
                          (CDComment | Example | FMP | CMP )*) >
<!ELEMENT CD             (CDComment | CDName | Description |
                         CDReviewDate | CDDate |CDVersion |CDRevision |
                         CDStatus | CDURL | CDUses | CDDefinition |
Example)* >
<!-- end of DTD for OM CD -->

\end{verbatim}\par\vspace£-10ptﬂﬂ





\caption£DTD Specification of  Content Dictionariesﬂ\label£fig_cd-dtdﬂ
\end£figureﬂ





£The XML DTD for Content Dictionaries is given in
Figure†5.1. The allowed elements are further
described in the following section.ﬂ


ﬂ

£
\subsection£Further Requirements of an \emph£OpenMathﬂ Content Dictionaryﬂ\label£sect_pcdataﬂ






£The notion of being a valid Content Dictionary is stronger than merely
being successfully parsed by the DTD. This is because the content of
the elements, referred to in Figure†5.1 as PCDATA and
CDATA, must actually make sense to, say, a Phrasebook designer. In
this section we define exactly the format of the elements used in
Content Dictionaries.ﬂ






\begin£descriptionﬂ


\item[\texttt£CDNameﬂ]


£The text occurring in the \texttt£CDNameﬂ element
  corresponds to the name of Content Dictionary, and is of the form
  specified in Chapter†4.ﬂ







\item[\texttt£Descriptionﬂ]



£The text occurring in the \texttt£Descriptionﬂ
  element is used to give a description of the enclosing element, which
  could be a symbol or the entire Content Dictionary. The content of
  this element can be any XML text.ﬂ


  



\item[\texttt£CDReviewDateﬂ]


£The text occurring in the \texttt£CDReviewDateﬂ
  element corresponds to the earliest possible revision date of the
  Content Dictionary.  The date formats should be ISO-compliant in the
  form YYYY-MM-DD, e.g. 1953-09-26.ﬂ


  



\item[\texttt£CDDateﬂ]


£The text occurring in the \texttt£CDDateﬂ element
  corresponds to the date of this version of the Content Dictionary.
  The date formats should be ISO-compliant in the form YYYY-MM-DD,
  e.g. 1953-09-26.ﬂ


  



\item[\texttt£CDVersionﬂ]

   
   
   

£The text occurring in the \texttt£CDVersionﬂ element corresponds to
   the version number of the current version of a Content Dictionary.
   It should be a non negative integer.ﬂ





£In CDs that do not have status \emph£experimentalﬂ, CD version
  numbering should adhere to the following. The version number should
  be a positive integer.ﬂ





£No changes can be
  introduced that invalidate objects built with previous versions.
  Any change that influences phrasebook compliance, like adding a new
  symbol to a Content Dictionary, is considered a major change.
  and should be reflected by an increase in this version number. Other
  changes, like adding an example or correcting a description, are
  considered minor changes. For minor changes the version number is not
  changed, but an increas should be made to the revision number, as
  described below. A change such as removing a symbol should
  not be made, instead a new CD, with a different name should be
  produced, so as not to invalidate existing objects.ﬂ





£As detailed in chapter†Chapter†6, \emph£OpenMathﬂ compliant applications
  state which versions of which CDs they support.

  \emph£Experimentalﬂ CDs may expect to have changes such as adding
  or removing symbols as they are developed, without requiring the name
  of the CD to be changed.ﬂ



  



\item[\texttt£CDRevisionﬂ]

   
   

£The text occurring in the \texttt£CDRevisionﬂ element corresponds to
   the revision, or `minor version number' of the current version of a
   Content Dictionary.  It should be a non negative integer.ﬂ





£Minor changes to a CD that do not warrant the release of a CD with
   an increased version number should be marked by increasing the
   revision number specified in this field. When the Cd Version number
   is increased, the Revision number is normally reset to zero.ﬂ



  



\item[\texttt£CDStatusﬂ]


£The text occurring in the \texttt£CDStatusﬂ element
  corresponds to the status of Content Dictionary, and can be either
  \texttt£officialﬂ (approved by the \emph£OpenMathﬂ Society according to the
  procedure outlined in Section†5.5), \texttt£experimentalﬂ
  (currently being tested), \texttt£privateﬂ (used by a private group of
  \emph£OpenMathﬂ users) or \texttt£obsoleteﬂ (an obsolete Content Dictionary kept
  only for archival purposes).ﬂ


  



\item[\texttt£CDURLﬂ]


£The text occurring in the \texttt£CDURLﬂ element
  should be a valid URL where the source file for the Content
  Dictionary encoding can be found (if it exists). The filename should
  conform to ISO 9660†\cite£ISO9660ﬂ.ﬂ






\item[\texttt£CDUsesﬂ]

   
   

£The content of this element should be a series of \texttt£CDNameﬂ
   elements, each naming a Content Dictionary used in the
   \texttt£Exampleﬂ and \texttt£FMPﬂs of the current Content
   Dictionary. ﬂ


   
 


\item[\texttt£CDCommentﬂ]


£The content of this element should be text
   that does not convey any crucial information concerning the current
   Content Dictionary. It can be used in the Content Dictionary header
   to report the author of the Content Dictionary and to log change
   information. In the body of the Content Dictionary, it can be used
   to attach extra remarks to certain symbols.ﬂ


   
   
 


\item[\texttt£Exampleﬂ]





£The text occurring in the \texttt£Exampleﬂ element is used to give
  examples of the enclosing symbol, and can be any XML text. In
  addition to text the element may contain examples as \textsc£xmlﬂ encoded
  \emph£OpenMathﬂ, inside \texttt£OMOBJﬂ elements.  Note that \texttt£Examplesﬂ must
  be with respect to some symbol and cannot be ``loose'' in the
  Content Dictionary.ﬂ


  



\item[\texttt£Nameﬂ]


£The text occurring in the \texttt£Nameﬂ element
  corresponds to the name of the symbol, and is specified as in
  Chapter†4.ﬂ

  
  



\item[\texttt£CMPﬂ]



£The text occurring in the \texttt£CMPﬂ element
  corresponds to a property of the symbol. An application which says
  it understands a Content Dictionary symbol need not understand a
  commented property of the symbol.ﬂ


  



\item[\texttt£FMPﬂ]


£The content of the \texttt£FMPﬂ element also corresponds
  to a property\footnote£It corresponds to a theorem of a theory in
    some formal system.ﬂ of the symbol, however the content of this
  element must be a valid \emph£OpenMathﬂ object in the XML encoding.  An
  application which says it understands a Content Dictionary symbol
  need not understand a formal property of the symbol.ﬂ





\end£descriptionﬂ

ﬂ
ﬂ


£
\section£Additional Informationﬂ\label£addfilesﬂ








£Content Dictionaries contain just one part of the information that can
be associated to a symbol in order to stepwise define its meaning and
its functionality. \emph£OpenMathﬂ Signature files, CDGroups, and possibly
files of extra mathematical properties, are used to convey the different
aspects that as a whole make up a mathematical definition.ﬂ



£
\subsection£Signature Filesﬂ\label£sigfilesﬂ








£\emph£OpenMathﬂ may be used with any type system. One just needs to produce a
Content Dictionary which gives the constructors of the type system,
and then one may build \emph£OpenMathﬂ objects representing types in the given
type system. These are typically associated with \emph£OpenMathﬂ objects via the
\emph£OpenMathﬂ \textbf£attributionﬂ constructor.ﬂ





£A Small Type System, called STS, has been designed to give semi-formal
signatures to \emph£OpenMathﬂ symbols and is documented in†\cite£OM_D132cﬂ.  The
signature file given in Appendix†A.3 is based on this
formalism. Using the same mechanism, \cite£OMD132bﬂ shows
how pure type systems can also be employed to assign types to \emph£OpenMathﬂ 
symbols.ﬂ




£
\subsubsection£The  DTD Specification of Signature Filesﬂ\label£sec_dtd_sigﬂ





£Signature Files are \textsc£xmlﬂ documents, hence  a valid Signature File
 should 

\begin£itemizeﬂ


\item


£be valid according to the \textsc£dtdﬂ given in
  Figure†5.2,ﬂ



\item


£adhere to the extra conditions on the content of the elements
  given in Section†5.4.1.2.ﬂ



\end£itemizeﬂ
ﬂ






£Signature files have a header which specifies the Content Dictionary
and determines the type system being used, and the Content
Dictionary which contains the symbols for which the signatures are
being given. Each signature takes the form of an \textsc£xmlﬂ encoded \emph£OpenMathﬂ
object.ﬂ





\begin£figureﬂ


    

\begin£verbatimﬂ
<!-- omcdsig.dtd -->
<!-- ********************************************* -->
<!--                                               -->
<!-- DTD for OpenMath CD Signatures                -->
<!-- (c) EP24969 the ESPRIT OpenMath Consortium    -->
<!-- David Carlisle 1999-04-13                     -->
<!-- David Carlisle 1999-05-21                     -->
<!-- David Carlisle 1999-06-22                     -->
<!--                                               -->
<!--                                               -->
<!-- ********************************************* -->

<!-- include dtd for OM objects -->
<!ENTITY  % omobjectdtd SYSTEM "omobj.dtd" >
%omobjectdtd;

<!ELEMENT CDSComment      (#PCDATA) >
<!ELEMENT CDSReviewDate    (#PCDATA) >
<!ELEMENT CDSStatus    (#PCDATA) >

<!ELEMENT CDSignatures   (CDComment |CDSComment | CDSReviewDate |
                         CDSStatus | Signature )* >

<!ATTLIST CDSignatures cd CDATA #REQUIRED
                       type CDATA #REQUIRED >

<!ELEMENT Signature      (OMOBJ?) >

<!ATTLIST  Signature  name CDATA #REQUIRED >

<!-- end of DTD for OM CD Signatures -->
\end{verbatim}



\caption£DTD Specification of Signature Filesﬂ\label£fig_omcdsig.dtdﬂ
\end£figureﬂ

ﬂ

£
\subsubsection£Further Requirements of a Signature Fileﬂ\label£sect_sigpcdataﬂ







£The notion of being a valid Signature File is stronger than merely
being successfully parsed by the \textsc£dtdﬂ in Figure†5.2.
In this section we define exactly the format of the elements used in
Signature Files. Several of the requirements are the same as those on
elements of Contents Dictionaries.ﬂ





\begin£descriptionﬂ


\item[\texttt£CDSignaturesﬂ]


£The outermost element of the Signature File
  is characterized by two required attributes that identify the type
  system and the Content Dictionary whose signatures are defined. The
  value of the \textsc£xmlﬂ attribute \texttt£typeﬂ is the name of the Content
  Dictionary or of the CDGroup (cfg. Section†5.4.2) that
  represents the type system. The value of the XML attribute
  \texttt£cdﬂ is the name of the Content Dictionary whose symbols are
  assigned signatures in this Signature File. Both values are of the
  form specified in Chapter†4.ﬂ


  



\item[\texttt£CDSCommentﬂ]


£See \texttt£CDCommentﬂ in
  Section†5.3.2.ﬂ






\item[\texttt£CDSreviewDateﬂ]


£The text occurring in the \texttt£CDSReviewDateﬂ element corresponds to the earliest possible
  revision date of the Signature File.  The date formats should be
  ISO-compliant in the form YYYY-MM-DD, e.g. 2000-02-29.ﬂ


  



\item[\texttt£CDSStatusﬂ]


£The text occurring in the \texttt£CDSStatusﬂ
  element corresponds to the status of the Signature File, and can be
  either \texttt£officialﬂ (approved by the \emph£OpenMathﬂ Society according to the
  procedure outlined in Section†5.5), \texttt£experimentalﬂ
  (currently being tested), \texttt£privateﬂ (used by a private group of
  \emph£OpenMathﬂ users) or \texttt£obsoleteﬂ (an obsolete Signature File kept only
  for archival purposes).ﬂ


  



\item[\texttt£Signatureﬂ]





£The content of the \texttt£Signatureﬂ element
  has to be a valid \emph£OpenMathﬂ object in \textsc£xmlﬂ encoding as specified in
  Chapter†4. Additionally, the object must represent a
  valid type in the type system identified by the
  XML attribute \texttt£typeﬂ of the \texttt£CDSignatureﬂ element. See
  Section†5.4.1.3 for examples.ﬂ






\end£descriptionﬂ

ﬂ


£
\subsubsection£Examplesﬂ\label£sect_sigexﬂ





£An example of a signature file for the type system STS and the
\texttt£arith1ﬂ Content Dictionary is given in
Appendix†A.3. Each
signature entry is similar to the
following one for the \emph£OpenMathﬂ symbol 
\texttt£<OMS cd="arith1" name="plus"/>ﬂ:

\begin£verbatimﬂ
<Signature name="plus">
<OMOBJ>
 <OMA>
  <OMS name="mapsto" cd="sts"/>
  <OMA>
   <OMS name="nassoc" cd="sts"/> 
   <OMV name="AbelianSemiGroup"/>
  </OMA>
  <OMV name="AbelianSemiGroup"/>
 </OMA>
</OMOBJ>
</Signature>
\end{verbatim}

ﬂ


ﬂ
ﬂ

£
\subsection£CDGroupsﬂ\label£ssec_cdgroupsﬂ









£The CD Group mechanism is a convenience mechanism for identifying
collections of CDs.  A CD Group file is an \textsc£xmlﬂ document used in the
(static or dynamic) negotiation phase where communicating applications
declare and agree on the Content Dictionaries which they process.  It
is a complement, or an alternative, to the individual declaration of
Content Dictionaries understood by an application.  Note that
CD Groups do \emph£notﬂ affect the \emph£OpenMathﬂ objects themselves.
Symbols in an object always refer to content dictionaries, not groups.ﬂ






£For an application to declare that it ``understands CDGroup G'' is
exactly equivalent to, and interchangable with, the declaration that it 
``understands Content Dictionaries \protect\(x\sb£1ﬂ\protect\), \protect\(x\sb£2ﬂ\protect\), \ldots  \protect\(x\sb£nﬂ\protect\)'', where
\protect\(x\sb£1ﬂ\protect\), \ldots  \protect\(x\sb£nﬂ\protect\) are the members of CDGroup G.ﬂ




£
\subsubsection£The DTD Specification of CDGroupsﬂ\label£sec_dtd_cdgﬂ






£CDGroups are XML documents, hence  a valid  CDGroup
 should 

\begin£itemizeﬂ


\item


£be valid according to the DTD given in
  Figure†5.3,ﬂ



\item


£adhere to the extra conditions on the content of the elements
  given in Section†5.4.2.2.ﬂ



\end£itemizeﬂ

ﬂ





£Apart from some header information such as \texttt£CDGroupNameﬂ and
\texttt£CDGroupﬂ version, a CDGroup is simply an unordered list of
CDs, identified by name and optionally version number and URL.ﬂ





\begin£figureﬂ


    

\begin£verbatimﬂ
<!-- CDgroup.dtd -->
<!-- ********************************************* -->
<!--                                               -->
<!-- DTD for OpenMath CD group                     -->
<!-- (c) EP24969 the ESPRIT OpenMath Consortium    -->
<!-- date = 18.Feb.1999                            -->
<!-- author = s.buswell sb@stilo.demon.co.uk       -->
<!--                                               -->
<!--                                               -->
<!-- available at                                  -->
<!-- http://www.nag.co.uk/~something here David~  -->
<!--                                               -->
<!-- ********************************************* -->

<!-- info on the CD group itself -->

<!ELEMENT CDGroupName      (#PCDATA) >
<!ELEMENT CDGroupVersion     (#PCDATA) >
<!ELEMENT CDGroupRevision     (#PCDATA) >
<!ELEMENT CDGroupURL          (#PCDATA) >
<!ELEMENT CDGroupDescription  (#PCDATA) >

<!-- info on the CDs in the group  -->

<!ELEMENT CDComment     (#PCDATA) >
<!ELEMENT CDGroupMember (CDComment?,CDName, CDVersion?, CDURL?) >
<!ELEMENT CDName     (#PCDATA) >
<!ELEMENT CDVersion     (#PCDATA) >
<!ELEMENT CDURL         (#PCDATA) >

<!-- structure of the group -->
<!ELEMENT CDGroup 
   (CDGroupName, CDGroupVersion, CDGroupRevision?,
    CDGroupURL, CDGroupDescription,
     (CDGroupMember  | CDComment )* ) >

<!-- end of DTD for OM CDGroup -->
\end{verbatim}




\caption£DTD Specification of CDGroupsﬂ\label£fig_cdgroup.dtdﬂ
\end£figureﬂ

ﬂ

£
\subsubsection£Further Requirements of a CDGroupﬂ\label£sect_cdgpcdataﬂ








£The notion of being a valid CDGroup implies that the following
requirements on the content of the elements described by the DTD in
Figure†5.2 are also met.ﬂ





\begin£descriptionﬂ


\item[\texttt£CDGroupﬂ]



£The XML element \texttt£CDGroupﬂ is the outermost
  element in a CDGroup document.ﬂ


  



\item[\texttt£CDGroupNameﬂ]





£The text occurring in the \texttt£CDGroupNameﬂ
  element corresponds to the name of the CDGroup. For the syntactical
  requirements, see \texttt£CDNameﬂ in Section†5.3.2.ﬂ


  



\item[\texttt£CDGroupURLﬂ]



£The text occurring in the \texttt£CDGroupURLﬂ
  element identifies the location of the CDGroup file, not necessarily
  of the member Content Dictionaries. For the syntactical
  requirements, see \texttt£CDURLﬂ in Section†5.3.2.ﬂ


  



\item[\texttt£CDGroupDescriptionﬂ]



£The text occurring in the \texttt£CDGroupDescriptionﬂ element describes the mathematical area of the
  CDGroup.ﬂ


  



\item[\texttt£CDGroupMemberﬂ]



£The XML element \texttt£CDGroupMemberﬂ
  encloses the data identifying each member of the CDGroup.ﬂ


  



\item[\texttt£CDNameﬂ]


£The text occurring in the \texttt£CDNameﬂ element
  corresponds to the name of a Content Dictionary in the CDGroup. For
  the syntactical requirements, see \texttt£CDNameﬂ in
  Section†5.3.2.ﬂ


  



\item[\texttt£CDVersionﬂ]


£The text occurring in the \texttt£CDVersionﬂ
  element identifies which version of the Content Dictionary isto be
  taken as member of the CDGroup. This element is optional. In case it
  is missing, the latest version is the one included in the CDGroup.
  For the syntactical requirements, see \texttt£CDVersionﬂ in
  Section†5.3.2.ﬂ


  



\item[\texttt£CDURLﬂ]





£The text occurring in the \texttt£CDURLﬂ element
  identifies the location of the Content Dictionary to be taken as
  member of the CDGroup. This element is optional. In case it is
  missing, the location of the CDGroup identified by the element
  \texttt£CDGroupURLﬂ is assumed.
  For the syntactical requirements, see \texttt£CDURLﬂ
  in Section†5.3.2.ﬂ


  



\item[\texttt£CDCommentﬂ]


£See \texttt£CDCommentﬂ in
  Section†5.3.2.ﬂ








\end£descriptionﬂ









ﬂ
ﬂ
ﬂ

£
\section£Content Dictionaries Reviewing Processﬂ\label£cdapproveﬂ







£The \emph£OpenMathﬂ Society is responsible  for implementing a
review and referee process to assess the accuracy of the mathematical
content of Content Dictionaries.  The status (see \texttt£CDStatusﬂ)
and/or the version number (see \texttt£CDVersionﬂ ) of a Content
Dictionary may change as a result of this review process.ﬂ


ﬂ








\chapter£\emph£OpenMathﬂ Complianceﬂ\label£cha_compﬂ






£Applications that meet the requirements specified in this chapter may
label themselves as \emph£OpenMath compliantﬂ. \emph£OpenMathﬂ compliancy is
defined so as to maximize the potential for interoperability amongst
\emph£OpenMathﬂ applications.ﬂ



£
\section£Encodingﬂ\label£sec_compl_encodingﬂ




£This standard defines two reference encodings for \emph£OpenMathﬂ, the binary
encoding and XML encoding,  defined in chapter†Chapter†4.ﬂ





£As a minimum, an \emph£OpenMathﬂ compliant application, which accepts or generates
\emph£OpenMathﬂ objects, \emph£mustﬂ be capable of doing so using  the XML encoding.
The ability to use other encodings is optional.ﬂ


ﬂ

£
\section£Content Dictionariesﬂ\label£sec_compl_cdﬂ





£An \emph£OpenMathﬂ compliant application  \emph£mustﬂ be able to support the error
Content Dictionary defined in Appendix†A.5.ﬂ





£A compliant application must declare the names and version numbers of
the Content Dictionaries that it supports. Equivalently it may declare
the Content Dictionary Group (or groups) and major version number (not
revision number), rather than listing individual Content Dictionaries.
Applications that support all Content Dictionaries (e.g. renderers)
should refer to the implicit CD Group \texttt£allﬂ.ﬂ





£If a compliant application supports a Content Dictionary then it must
explicitly declare any symbols in the Content Dictionaries that are not
supported. Phrasebooks are encouraged to support every symbol in the 
Content Dictionaries.ﬂ





£Symbols which are not listed as unsupported are \emph£supportedﬂ by
the application. The meaning of \emph£supportedﬂ will depend on the
application domain. For example an \emph£OpenMathﬂ renderer should provide a
default display for any \emph£OpenMathﬂ object that only references supported
symbols, whereas a Computer Algebra System will be expected to map
such an object to a suitable internal representation, in this system,
of this mathematical object. It is expected that the application's
\emph£phrasebooksﬂ for supported Content Dictionaries will be
constructed such that propertes of the symbol expressed in the Content
Dictionary are respected as far as possible for the given application
domain. However \emph£OpenMathﬂ compliance does \emph£notﬂ imply
any guarantee by the \emph£OpenMathﬂ Society on the accuracy of these representations.ﬂ






£Content Dictionaries available from the official \emph£OpenMathﬂ repository at
www.openmath.org need only be referenced by name, other Content
Dictionaries \emph£shouldﬂ be referenced by the URL declared in the
\texttt£CDURLﬂ field of the Dictionary. This URL may be used to
retrieve the Content Dictionary.ﬂ





£When receiving an \emph£OpenMathﬂ symbol, e.g. \protect\(s\protect\),  that is not supported from a
 supported Content Dictionary,  a compliant
application will act as if it had received the \emph£OpenMathﬂ object
\protect\[\mathbf£errorﬂ(Unhandled_Symbol,s)\protect\]
where \texttt£Unhandled_Symbolﬂ is the symbol from the error Content
Dictionary.ﬂ






£Similarly if it receives a symbol, e.g. \protect\(s\protect\), from an unsupported Content
Dictionary,
it  will act as if it had received the \emph£OpenMathﬂ object
\protect\[\mathbf£errorﬂ(Unsupported_CD,s)\protect\]ﬂ





£Finally if the compliant application receives a symbol from a supported
Content Dictionary but with an unknown name, then this must either be
an incorrect object, or possibly the object has been built using a
later version of the Content Dictionary. In either case, the
application will act as if it had received the \emph£OpenMathﬂ object
\protect\[\mathbf£errorﬂ(Unexpected_Symbol,s)\protect\]ﬂ


ﬂ

£
\section£Lexical Errorsﬂ\label£sec_comp_lexﬂ





£The previous section defines the behaviour of a compliant application
upon receiving well formed \emph£OpenMathﬂ objects containing unexpected symbols.
This standard does not specify any behaviour for an application upon
receiving ill-formed objects.ﬂ


ﬂ




\chapter£Conclusionﬂ\label£cha_concﬂ






£The goal of this document is to define the \emph£OpenMathﬂ standard. The things
are addressed by the \emph£OpenMathﬂ standard are:

\begin£itemizeﬂ


\item


£Informal and formal definition of the \emph£OpenMathﬂ objects.ﬂ



\item


£Informal and formal definition of the notion of Content
  Dictionaries.ﬂ



\end£itemizeﬂ

To do this, \emph£OpenMathﬂ objects are precisely defined and two encodings are
described to represent these objects using \textsc£xmlﬂ and binary
code. Furthermore, the Document Type Definition for validating Content
Dictionaries and \emph£OpenMathﬂ objects is given.ﬂ









\appendix


\chapter£CD Filesﬂ\label£app_cdfilesﬂ



\clearpage£
\section£The \textbf£metaﬂ Content Dictionaryﬂ\label£app_cdcdﬂ




\begin£verbatimﬂ
<CD>

<CDName> meta </CDName>

<Description> 

This is a content dictionary to represent content dictionaries, so
that they may be passed between OpenMath compliant application in a
similar way to mathematical objects.  It is acknowledged that this is
not the only way to do this, but it seems a natural way.

This can be viewed as updating the previous Meta-CD.

The information written here is taken from "The OpenMath Standard".
This document is a slightly stronger statement than "the following
symbols are defined as in the DTD at
http://www.nag.co.uk/projects/OpenMath/omstd/dtds/cd.dtd", since the
DTD often only says that the information inside the elements is PCDATA
without saying what this actually corresponds to. However this is the
only way this document is better than the DTD, and thus this is the
only extra information we give here.

Author: N. Howgrave-Graham
</Description>

<CDReviewDate> 1998-10-01 </CDReviewDate>
<CDStatus> experimental </CDStatus>
<CDURL> http://www.nag.co.uk/projects/OpenMath/omstd/cds/meta.ocd </CDURL>

<CDComment>
This is how one uses comments.

This whole document must be valid XML which means that we cannot have
sub-elements inside elements where we are expecting PCDATA. For this
reason it is suggested that one use the unicode characters when
clashes occur. For example &lt; and &gt; for less than and more than.
</CDComment>

<CDDefinition>
<Name> CD </Name>
<Description>
The DTD fully specifies the use of the CD tag
</Description>
</CDDefinition>

<CDDefinition>
<Name> CDDescription </Name>
<Description>
The DTD fully specifies the use of the CDDescription tag
</Description>
</CDDefinition>

<CDComment>
For those that do not have access to the DTD, the tagged entries
are the following (in no particular order):

&lt;CD&gt;
&lt;CDName&gt; &lt;/CDName&gt;
&lt;Description&gt; &lt;/Description&gt;
&lt;CDReviewDate&gt; &lt;/CDReviewDate&gt;
&lt;CDStatus&gt; &lt;/CDStatus&gt;
&lt;CDURL&gt;? &lt;/CDURL&gt;
&lt;CDUses&gt;? &lt;CDUses&gt;
&lt;CDDefinition&gt;*
&lt;Name&gt; &lt;/Name&gt;
&lt;Description&gt; &lt;/Description&gt;
&lt;Signature&gt;? &lt;/Signature&gt;
&lt;Example&gt;* &lt;/Example&gt;
&lt;FMP&gt;* &lt;/FMP&gt;
&lt;CMP&gt;* &lt;/CMP&gt;
&lt;Presentation&gt;? &lt;/Presentation&gt;
&lt;/CDDefinition&gt;

where an asterisk (?) denotes it can repeated 0 or 1 times, and a star
(*) denotes 0 or more times.
</CDComment>

<CDDefinition>
<Name> CDName </Name>
<Description>
A tag which contains PCDATA corresponding to the name of the CD.
</Description>
</CDDefinition>

<CDDefinition>
<Name> CDURL </Name>
<Description>
An optional tag which contains PCDATA corresponding to the URL where
the CD is stored.
</Description>
</CDDefinition>

<CDDefinition>
<Name> Example </Name>
<Description>
A tag which contains PCDATA to give an example of the
enclosing symbol definition.
</Description>
</CDDefinition>

<CDDefinition>
<Name> CDReviewDate </Name>
<Description>
A tag which contains PCDATA to give an expiry date of
the CD.  It should be in the form of ISO-8601, i.e. YYYY-MM-DD
</Description>
</CDDefinition>

<CDDefinition>
<Name> CDStatus </Name>
<Description>
A tag which contains PCDATA to give information on the
status of the CD. This can be either official (approved by the
OpenMath steering committee), experimental (currently being tested),
private (used by a private group of OpenMath users) or obsolete
(an obsolete CD kept only for archival purposes).
</Description>
</CDDefinition>

<CDDefinition>
<Name> CDUses </Name>
<Description>
A tag which contains zero or more CDNames which correspond
to the CD's that this CD depends on. This makes an inheritance
structure for CD's. If the CD is dependent on any other CD's they must
be present here.
</Description>
</CDDefinition>

<CDDefinition>
<Name> CDTypeUses </Name>
<Description>
A tag which contains zero or more CDNames which correspond
to the CD's that hold type information that this CD depends on. This
makes an inheritance type structure for CD's. If the CD types are
dependent on any other CD's they must be present here. For application
that do not respect types, this symbol can be ignored.
</Description>
</CDDefinition>

<CDDefinition>
<Name> Description </Name>
<Description>
A tag which contains PCDATA corresponding to the
description of either the CD or the symbol (depending on which is the
enclosing element).
</Description>
</CDDefinition>

<CDDefinition>
<Name> Name </Name>
<Description>
A tag which contains PCDATA corresponding to the name of
the symbol being defined.
</Description>
</CDDefinition>

<CDDefinition>
<Name> Signature </Name>
<Description>
An optional tag which contains PCDATA corresponding to
the type of the symbol being defined. This type information will be
an OpenMath type object as defined in chapter 5 of "First Draft of the
OpenMath Standard".
</Description>
</CDDefinition>

<CDDefinition>
<Name> Presentation </Name>
<Description>
An optional tag (which may be repeated many times) which contains
PCDATA corresponding to a way of presenting the symbol being defined.
</Description>
</CDDefinition>

<CDDefinition>
<Name> CMP </Name>
<Description>
An optional tag (which may be repeated many times) which contains
PCDATA corresponding to a property of the symbol being
defined.
</Description>
</CDDefinition>

<CDDefinition>
<Name> FMP </Name>
<Description>
An optional tag (which may be repeated many times) which contains
PCDATA corresponding to a property of the symbol being
defined. This property must be a valid OpenMath object.
</Description>
</CDDefinition>

</CD>
\end{verbatim}

ﬂ

\clearpage£
\section£The  \textbf£arith1ﬂ Content Dictionary Fileﬂ\label£arith1.ocdﬂ





\begin£verbatimﬂ
<CD>
<CDName> arith1 </CDName>
<CDURL> http://www.openmath.org/cd/arith1.ocd </CDURL>
<CDReviewDate> 2003-04-01 </CDReviewDate>
<CDStatus> official </CDStatus>
<CDDate> 2001-03-12 </CDDate>
<CDVersion> 2 </CDVersion>
<CDRevision> 0 </CDRevision>
<CDUses>
  <CDName>alg1</CDName>
  <CDName>fns1</CDName>
  <CDName>integer1</CDName>
  <CDName>interval1</CDName>
  <CDName>linalg2</CDName>
  <CDName>logic1</CDName>
  <CDName>quant1</CDName>
  <CDName>relation1</CDName>
  <CDName>set1</CDName>
  <CDName>setname1</CDName>
  <CDName>transc1</CDName>
</CDUses>

<Description> 
This CD defines symbols for common arithmetic functions.
</Description>

<CDDefinition>
<Name> lcm </Name>
<Description> 
The symbol to represent the n-ary function to return the least common
multiple of its arguments.
</Description>

<CMP> lcm(a,b) = a*b/gcd(a,b) </CMP>

<FMP>
<OMOBJ>
  <OMA>
    <OMS cd="relation1" name="eq"/>
    <OMA>
      <OMS cd="arith1" name="lcm"/>
      <OMV name="a"/>
      <OMV name="b"/>
    </OMA>
    <OMA>
      <OMS cd="arith1" name="divide"/>
      <OMA>
        <OMS cd="arith1" name="times"/>
	<OMV name="a"/>
	<OMV name="b"/>
      </OMA>
      <OMA>
        <OMS cd="arith1" name="gcd"/>
        <OMV name="a"/>
        <OMV name="b"/>
      </OMA>
    </OMA>
  </OMA>
</OMOBJ>
</FMP>
<CMP>
for all integers a,b |
There does not exist a c>0 such that c/a is an Integer and c/b is an
Integer and lcm(a,b) > c.
</CMP>

<FMP>
<OMOBJ>
<OMBIND>
  <OMS cd="quant1" name="forall"/>
  <OMBVAR>
    <OMV name="a"/>
    <OMV name="b"/>
  </OMBVAR>
  <OMA>
    <OMS cd="logic1" name="implies"/>
    <OMA>
      <OMS cd="logic1" name="and"/>
      <OMA>
        <OMS cd="set1" name="in"/>
	<OMV name="a"/>
	<OMS cd="setname1" name="Z"/>
      </OMA>
      <OMA>
        <OMS cd="set1" name="in"/>
	<OMV name="b"/>
	<OMS cd="setname1" name="Z"/>
      </OMA>
    </OMA>
    <OMA>
      <OMS cd="logic1" name="not"/>
      <OMBIND>
        <OMS cd="quant1" name="exists"/>
        <OMBVAR>
          <OMV name="c"/>
        </OMBVAR>
        <OMA>
          <OMS cd="logic1" name="and"/>
          <OMA>
            <OMS cd="relation1" name="gt"/>
              <OMV name="c"/>
              <OMI>0</OMI>
          </OMA>
          <OMA>
            <OMS cd="integer1" name="factorof"/>
              <OMV name="a"/>
              <OMV name="c"/>
          </OMA>
          <OMA>
            <OMS cd="integer1" name="factorof"/>
              <OMV name="b"/>
              <OMV name="c"/>
          </OMA>
          <OMA>
            <OMS cd="relation1" name="lt"/>
            <OMV name="c"/>
            <OMA>
              <OMS cd="arith1" name="lcm"/>
              <OMV name="a"/>
              <OMV name="b"/>
            </OMA>
          </OMA>
        </OMA>
      </OMBIND>
    </OMA>
  </OMA>
</OMBIND>
</OMOBJ>
</FMP>
</CDDefinition>

<CDDefinition>
<Name> gcd </Name>
<Description> 
The symbol to represent the n-ary function to return the gcd (greatest
common divisor) of its arguments.
</Description>

<CMP>
for all integers a,b |
There does not exist a c such that a/c is an Integer and b/c is an
Integer and c > gcd(a,b).

Note that this implies that gcd(a,b) > 0
</CMP>

<FMP>
<OMOBJ>
<OMBIND>
  <OMS cd="quant1" name="forall"/>
  <OMBVAR>
    <OMV name="a"/>
    <OMV name="b"/>
  </OMBVAR>
  <OMA>
    <OMS cd="logic1" name="implies"/>
    <OMA>
      <OMS cd="logic1" name="and"/>
      <OMA>
        <OMS cd="set1" name="in"/>
	<OMV name="a"/>
	<OMS cd="setname1" name="Z"/>
      </OMA>
      <OMA>
        <OMS cd="set1" name="in"/>
	<OMV name="b"/>
	<OMS cd="setname1" name="Z"/>
      </OMA>
    </OMA>
    <OMA>
      <OMS cd="logic1" name="not"/>
      <OMBIND>
        <OMS cd="quant1" name="exists"/>
        <OMBVAR>
          <OMV name="c"/>
        </OMBVAR>
        <OMA>
          <OMS cd="logic1" name="and"/>
          <OMA>
            <OMS cd="set1" name="in"/>
            <OMA>
              <OMS cd="arith1" name="divide"/>
              <OMV name="a"/>
              <OMV name="c"/>
            </OMA>
            <OMS cd="setname1" name="Z"/>
          </OMA>
          <OMA>
            <OMS cd="set1" name="in"/>
            <OMA>
              <OMS cd="arith1" name="divide"/>
              <OMV name="b"/>
              <OMV name="c"/>
            </OMA>
            <OMS cd="setname1" name="Z"/>
          </OMA>
          <OMA>
            <OMS cd="relation1" name="gt"/>
            <OMV name="c"/>
            <OMA>
              <OMS cd="arith1" name="gcd"/>
              <OMV name="a"/>
              <OMV name="b"/>
            </OMA>
          </OMA>
        </OMA>
      </OMBIND>
    </OMA>
  </OMA>
</OMBIND>
</OMOBJ>
</FMP>

<Example>
gcd(6,9) = 3
<OMOBJ>
  <OMA>
    <OMS cd="relation1" name="eq"/>
    <OMA>
      <OMS cd="arith1" name="gcd"/>
      <OMI> 6 </OMI>
      <OMI> 9 </OMI>
    </OMA>
    <OMI> 3 </OMI>
  </OMA>
</OMOBJ>
</Example>
</CDDefinition>

<CDDefinition>
<Name> plus </Name>
<Description>
The symbol representing an n-ary commutative function plus.
</Description>
<CMP> for all a,b | a + b = b + a </CMP>
<FMP>
<OMOBJ>
  <OMBIND>
    <OMS cd="quant1" name="forall"/>
    <OMBVAR>
       <OMV name="a"/>
       <OMV name="b"/>
    </OMBVAR>
    <OMA>
      <OMS cd="relation1" name="eq"/>
      <OMA>
        <OMS cd="arith1" name="plus"/>
        <OMV name="a"/>
        <OMV name="b"/>
      </OMA>
      <OMA>
        <OMS cd="arith1" name="plus"/>
        <OMV name="b"/>
        <OMV name="a"/>
      </OMA>
    </OMA>
  </OMBIND>
</OMOBJ>
</FMP>
</CDDefinition>

<CDDefinition>
<Name> unary_minus </Name>
<Description> 
This symbol denotes unary minus, i.e. the additive inverse.
</Description>
<CMP> for all a | a + (-a) = 0 </CMP>
<FMP>
<OMOBJ>
  <OMBIND>
    <OMS cd="quant1" name="forall"/>
    <OMBVAR>
       <OMV name="a"/>
    </OMBVAR>
    <OMA>
      <OMS cd="relation1" name="eq"/>
      <OMA>
        <OMS cd="arith1" name="plus"/>
        <OMV name="a"/>
        <OMA>
           <OMS cd="arith1" name="unary_minus"/>
           <OMV name="a"/>
        </OMA>
      </OMA>
      <OMS cd="alg1" name="zero"/>
    </OMA>
  </OMBIND>
</OMOBJ>
</FMP>
</CDDefinition>

<CDDefinition>
<Name> minus </Name>
<Description> 
The symbol representing a binary minus function. This is equivalent to
adding the additive inverse.
</Description>
<CMP> for all a,b | a - b = a + (-b) </CMP>
<FMP>
<OMOBJ>
  <OMBIND>
    <OMS cd="quant1" name="forall"/>
    <OMBVAR>
       <OMV name="a"/>
       <OMV name="b"/>
    </OMBVAR>
    <OMA>
      <OMS cd="relation1" name="eq"/>
      <OMA>
        <OMS cd="arith1" name="minus"/>
        <OMV name="a"/>
        <OMV name="b"/>
      </OMA>
      <OMA>
        <OMS cd="arith1" name="plus"/>
        <OMV name="a"/>
        <OMA>
          <OMS cd="arith1" name="unary_minus"/>
          <OMV name="b"/>
        </OMA>
      </OMA>
    </OMA>
  </OMBIND>
</OMOBJ>
</FMP>
</CDDefinition>

<CDDefinition>
<Name> times </Name>
<Description> 
The symbol representing an n-ary multiplication function.
</Description>
<Example>
<OMOBJ>
<OMA>
  <OMS cd="relation1" name="eq"/>
  <OMA>
    <OMS cd="arith1" name="times"/>
    <OMA>
      <OMS cd="linalg2" name="matrix"/>
      <OMA>
        <OMS cd="linalg2" name="matrixrow"/>
        <OMI> 1 </OMI>
        <OMI> 2 </OMI>
      </OMA>
      <OMA>
        <OMS cd="linalg2" name="matrixrow"/>
        <OMI> 3 </OMI>
        <OMI> 4 </OMI>
      </OMA>
    </OMA>
    <OMA>
      <OMS cd="linalg2" name="matrix"/>
      <OMA>
        <OMS cd="linalg2" name="matrixrow"/>
        <OMI> 5 </OMI>
        <OMI> 6 </OMI>
      </OMA>
      <OMA>
        <OMS cd="linalg2" name="matrixrow"/>
        <OMI> 7 </OMI>
        <OMI> 8 </OMI>
      </OMA>
    </OMA>
  </OMA>
  <OMA>
    <OMS cd="linalg2" name="matrix"/>
    <OMA>
      <OMS cd="linalg2" name="matrixrow"/>
      <OMI> 19 </OMI>
      <OMI> 20 </OMI>
    </OMA>
    <OMA>
      <OMS cd="linalg2" name="matrixrow"/>
      <OMI> 43 </OMI>
      <OMI> 50 </OMI>
    </OMA>
  </OMA>
</OMA>
</OMOBJ>
</Example>
<CMP> for all a,b | a * 0 = 0 and a * b = a * (b - 1) + a </CMP>

<FMP><OMOBJ>
<OMBIND>
  <OMS cd="quant1" name="forall"/>
  <OMBVAR>
    <OMV name="a"/>
    <OMV name="b"/>
  </OMBVAR>
  <OMA>
    <OMS cd="logic1" name="and"/>
    <OMA>
      <OMS cd="relation1" name="eq"/>
      <OMA>
        <OMS cd="arith1" name="times"/>
        <OMV name="a"/>
        <OMS cd="alg1" name="zero"/>
      </OMA>
      <OMS cd="alg1" name="zero"/>
    </OMA>
    <OMA>
      <OMS cd="relation1" name="eq"/>
      <OMA>
        <OMS cd="arith1" name="times"/>
	<OMV name="a"/>
	<OMV name="b"/>
      </OMA>
      <OMA>
        <OMS cd="arith1" name="plus"/>
	<OMA>
	  <OMS cd="arith1" name="times"/>
	  <OMV name="a"/>
	  <OMA>
	    <OMS cd="arith1" name="minus"/>
	    <OMV name="b"/>
	    <OMS cd="alg1" name="one"/>
	  </OMA>
	</OMA>
	<OMV name="a"/>
      </OMA>
    </OMA>
  </OMA>
</OMBIND>
</OMOBJ></FMP>

<CMP> for all a,b,c | a*(b+c) = a*b + a*c </CMP>
<FMP><OMOBJ>
<OMBIND>
  <OMS cd="quant1" name="forall"/>
  <OMBVAR>
    <OMV name="a"/>
    <OMV name="b"/>
    <OMV name="c"/>
  </OMBVAR>
  <OMA>
    <OMS cd="relation1" name="eq"/>
    <OMA>
      <OMS cd="arith1" name="times"/>
      <OMV name="a"/>
      <OMA>
        <OMS cd="arith1" name="plus"/>
	<OMV name="b"/>
	<OMV name="c"/>
      </OMA>
    </OMA>
    <OMA>
      <OMS cd="arith1" name="plus"/>
      <OMA>
        <OMS cd="arith1" name="times"/>
	<OMV name="a"/>
	<OMV name="b"/>
      </OMA>
      <OMA>
        <OMS cd="arith1" name="times"/>
	<OMV name="a"/>
	<OMV name="c"/>
      </OMA>
    </OMA>
  </OMA>
</OMBIND>
</OMOBJ></FMP>
</CDDefinition>

<CDDefinition>
<Name> divide </Name>
<Description>
This symbol represents a (binary) division function denoting the first argument
right-divided by the second, i.e. divide(a,b)=a*inverse(b). It is the
inverse of the multiplication function defined by the symbol times in this CD.
</Description>
<CMP> whenever not(a=0) then a/a = 1 </CMP>
<FMP>
<OMOBJ>
  <OMBIND>
    <OMS cd="quant1" name="forall"/>
    <OMBVAR>
       <OMV name="a"/>
    </OMBVAR>
    <OMA>
      <OMS cd="logic1" name="implies"/>
      <OMA>
        <OMS cd="relation1" name="neq"/>
        <OMV name="a"/>
        <OMS cd="alg1" name="zero"/>
      </OMA>
      <OMA>
        <OMS cd="relation1" name="eq"/>
        <OMA>
          <OMS cd="arith1" name="divide"/>
          <OMV name="a"/>
          <OMV name="a"/>
        </OMA>
        <OMS cd="alg1" name="one"/>
      </OMA>
    </OMA>
  </OMBIND>
</OMOBJ>
</FMP>
</CDDefinition>

<CDDefinition>
<Name> power </Name>
<Description>
This symbol represents a power function. The first argument is raised
to the power of the second argument. When the second argument is not
an integer, powering is defined in terms of exponentials and 
logarithms for the complex and real numbers.
This operator can represent general powering.
</Description>

<CMP>
x\in C implies x^a = exp(a ln x)
</CMP>

<FMP>
<OMOBJ>
  <OMA>
    <OMS cd="logic1" name="implies"/>
    <OMA>
      <OMS cd="set1" name="in"/>
      <OMV name="x"/>
      <OMS cd="setname1" name="C"/>
    </OMA>
    <OMA>
      <OMS cd="relation1" name="eq"/>
      <OMA>
        <OMS name="power" cd="arith1"/>
        <OMV name="x"/>
        <OMV name="a"/>
      </OMA>
      <OMA>
        <OMS name="exp" cd="transc1"/>
        <OMA>
          <OMS name="times" cd="arith1"/>
          <OMV name="a"/>
          <OMA>
            <OMS name="ln" cd="transc1"/>
            <OMV name="x"/>
          </OMA>
        </OMA>
      </OMA>
    </OMA>
  </OMA>
</OMOBJ>
</FMP>

<CMP>
  if n is an integer then
  x^0 = 1,
  x^n = x * x^(n-1)
</CMP>
<FMP>
<OMOBJ>
  <OMA>
    <OMS cd="logic1" name="implies"/>
    <OMA>
      <OMS cd="set1" name="in"/>
      <OMV name="n"/>
      <OMS cd="setname1" name="Z"/>
    </OMA>
    <OMA>
      <OMS cd="logic1" name="and"/>
      <OMA>
        <OMS cd="relation1" name="eq"/>
        <OMA>
          <OMS cd="arith1" name="power"/>
          <OMV name="x"/>
          <OMI>0</OMI>
        </OMA>
        <OMS cd="alg1" name="one"/>
      </OMA>
      <OMA>
        <OMS cd="relation1" name="eq"/>
        <OMA>
          <OMS cd="arith1" name="power"/>
          <OMV name="x"/>
          <OMV name="n"/>
        </OMA>
        <OMA>
          <OMS cd="arith1" name="times"/>
          <OMV name="x"/>
          <OMA>
            <OMS cd="arith1" name="power"/>
            <OMV name="x"/>
            <OMA>
              <OMS cd="arith1" name="minus"/>
              <OMV name="n"/>
              <OMI>1</OMI>
            </OMA>
          </OMA>
        </OMA>
      </OMA>
    </OMA>
  </OMA>
</OMOBJ>
</FMP>
<Example>
<OMOBJ>
<OMA>
  <OMS cd="relation1" name="eq"/>
  <OMA>
    <OMS cd="arith1" name="power"/>
    <OMA>
      <OMS cd="linalg2" name="matrix"/>
      <OMA>
        <OMS cd="linalg2" name="matrixrow"/>
        <OMI> 1 </OMI>
        <OMI> 2 </OMI>
      </OMA>
      <OMA>
        <OMS cd="linalg2" name="matrixrow"/>
        <OMI> 3 </OMI>
        <OMI> 4 </OMI>
      </OMA>
    </OMA>
    <OMI>3</OMI>
  </OMA>
  <OMA>
    <OMS cd="linalg2" name="matrix"/>
    <OMA>
      <OMS cd="linalg2" name="matrixrow"/>
      <OMI> 37 </OMI>
      <OMI> 54 </OMI>
    </OMA>
    <OMA>
      <OMS cd="linalg2" name="matrixrow"/>
      <OMI> 81 </OMI>
      <OMI> 118 </OMI>
    </OMA>
  </OMA>
</OMA>
</OMOBJ>
</Example>
<Example>
<OMOBJ>
<OMA>
  <OMS cd="relation1" name="eq"/>
  <OMA>
    <OMS cd="arith1" name="power"/>
    <OMS cd="nums1" name="e"/>
    <OMA>
      <OMS cd="arith1" name="times"/>
      <OMS cd="nums1" name="i"/>
      <OMS cd="nums1" name="pi"/>
    </OMA>
  </OMA>
  <OMA>
    <OMS cd="arith1" name="unary_minus"/>
    <OMS cd="alg1" name="one"/>
  </OMA>
</OMA>
</OMOBJ>
</Example>
</CDDefinition>

<CDDefinition>
<Name> abs </Name>
<Description> 
A unary operator which represents the absolute value of its
argument. The argument should be numerically valued.
In the complex case this is often referred to as the modulus.
</Description>
<CMP> for all x,y | abs(x) + abs(y) >= abs(x+y) </CMP>
<FMP>
<OMOBJ>
  <OMBIND>
    <OMS cd="quant1" name="forall"/>
    <OMBVAR>
      <OMV name="x"/>
      <OMV name="y"/>
    </OMBVAR>
    <OMA>
      <OMS cd="relation1" name="geq"/>
      <OMA>
        <OMS cd="arith1" name="plus"/>
        <OMA>
          <OMS cd="arith1" name="abs"/>
            <OMV name="x"/>
            <OMV name="y"/>
        </OMA>
        <OMA>
          <OMS cd="arith1" name="abs"/>
            <OMV name="x"/>
            <OMV name="y"/>
        </OMA>
      </OMA>
      <OMA>
        <OMS cd="arith1" name="abs"/>
        <OMA>
          <OMS cd="arith1" name="plus"/>
          <OMV name="x"/>
          <OMV name="y"/>
        </OMA>
      </OMA>
    </OMA>
  </OMBIND>
</OMOBJ>
</FMP>
</CDDefinition>

<CDDefinition>
<Name> root </Name>
<Description> 
A binary operator which represents its first argument "lowered" to its
n'th root where n is the second argument. This is the inverse of the operation
represented by the power symbol defined in this CD.

Care should be taken as to the precise meaning of this operator, in
particular which root is represented, however it is here to represent
the general notion of taking n'th roots. As inferred by the signature
relevant to this symbol, the function represented by this symbol is
the single valued function, the specific root returned is the one
indicated by the first CMP. Note also that the converse of the second
CMP is not valid in general.
</Description>

<CMP> x\in C implies root(x,n) = exp(ln(x)/n) </CMP>
<FMP>
  <OMOBJ>
    <OMA>
      <OMS cd="logic1" name="implies"/>
      <OMA>
        <OMS cd="set1" name="in"/>
        <OMV name="x"/>
        <OMS cd="setname1" name="C"/>
      </OMA>
      <OMA>
        <OMS cd="relation1" name="eq"/>
        <OMA>
          <OMS cd="arith1" name="root"/>
          <OMV name="x"/>
          <OMV name="n"/>          
        </OMA>
        <OMA>
          <OMS name="exp" cd="transc1"/>
          <OMA>
            <OMS name="divide" cd="arith1"/>
            <OMA>
              <OMS name="ln" cd="transc1"/>
              <OMV name="x"/>
            </OMA>
            <OMV name="n"/>          
          </OMA>
        </OMA>
      </OMA>
    </OMA>
  </OMOBJ>
</FMP>

<CMP> for all a,n | power(root(a,n),n) = a (if the root exists!) </CMP>
<FMP>
  <OMOBJ>
    <OMBIND>
      <OMS cd="quant1" name="forall"/>
      <OMBVAR>
         <OMV name="a"/>
         <OMV name="n"/>
      </OMBVAR>
      <OMA>
        <OMS cd="relation1" name="eq"/>
        <OMA>
          <OMS cd="arith1" name="power"/>
          <OMA>
            <OMS cd="arith1" name="root"/>
            <OMV name="a"/>
            <OMV name="n"/>
          </OMA>
          <OMV name="n"/>
        </OMA>
        <OMV name="a"/>
      </OMA>
    </OMBIND>
  </OMOBJ>
</FMP>
</CDDefinition>




<CDDefinition>
<Name> sum </Name>
<Description>
An operator taking two arguments, the first being the range of summation,
e.g. an integral interval, the second being the function to be
summed. Note that the sum may be over an infinite interval.
</Description>
<Example>
  This represents the summation of the reciprocals of all the integers between
  1 and 10 inclusive.
<OMOBJ>
  <OMA>
    <OMS cd="arith1" name="sum"/>
      <OMA>
        <OMS cd="interval1" name="integer_interval"/>
        <OMI> 1 </OMI>
        <OMI> 10 </OMI>
      </OMA>
    <OMBIND>
      <OMS cd="fns1" name="lambda"/>
        <OMBVAR>
          <OMV name="x"/>
        </OMBVAR>
        <OMA>
          <OMS cd="arith1" name="divide"/>
          <OMI> 1 </OMI>
          <OMV name="x"/>
        </OMA>
    </OMBIND>
  </OMA>
</OMOBJ>
</Example>
</CDDefinition>

<CDDefinition>
<Name> product </Name>
<Description>
An operator taking two arguments, the first being the range of multiplication
e.g. an integral interval, the second being the function to
be multiplied. Note that the product may be over an infinite interval. 
</Description>
<Example>
This represents the statement that the factorial of n is equal to the product
of all the integers between 1 and n inclusive.
<OMOBJ>
  <OMA>
    <OMS cd="relation1" name="eq"/>
    <OMA>
      <OMS cd="integer1" name="factorial"/>
      <OMV name="n" />
    </OMA>
    <OMA>
      <OMS cd="arith1" name="product"/>
        <OMA>
          <OMS cd="interval1" name="integer_interval"/>
          <OMI> 1 </OMI>
          <OMV name="n"/>
        </OMA>
      <OMBIND>
        <OMS cd="fns1" name="lambda"/>
          <OMBVAR>
            <OMV name="i"/>
          </OMBVAR>
          <OMV name="i"/>
      </OMBIND>
    </OMA>
  </OMA>
</OMOBJ>
</Example>
</CDDefinition>

</CD>
\end{verbatim}


ﬂ

\clearpage£
\section£The  \textbf£arith1ﬂ STS Signature Fileﬂ\label£arith1.stsﬂ






\begin£verbatimﬂ
<CDSignatures type="sts" cd="arith1">

<CDSComment>
Date:  1999-11-26
Author: David Carlisle
</CDSComment>

<Signature name="lcm" >
<OMOBJ>
 <OMA>
   <OMS name="mapsto" cd="sts" />
   <OMA>
     <OMS name="nassoc" cd="sts"/>
     <OMV name="SemiGroup"/>
   </OMA>
   <OMV name="SemiGroup" />
 </OMA>
</OMOBJ>
</Signature>

<Signature name="gcd" >
<OMOBJ>
 <OMA>
   <OMS name="mapsto" cd="sts" />
   <OMA>
     <OMS name="nassoc" cd="sts"/>
     <OMV name="SemiGroup"/>
   </OMA>
   <OMV name="SemiGroup" />
 </OMA>
</OMOBJ>
</Signature>

<Signature name="plus">
<OMOBJ>
 <OMA>
  <OMS name="mapsto" cd="sts"/>
  <OMA>
   <OMS name="nassoc" cd="sts"/> 
   <OMV name="AbelianSemiGroup"/>
  </OMA>
  <OMV name="AbelianSemiGroup"/>
 </OMA>
</OMOBJ>
</Signature>

<Signature name="unary_minus">
<OMOBJ>
 <OMA>
  <OMS name="mapsto" cd="sts"/>
  <OMV name="AbelianGroup"/> 
  <OMV name="AbelianGroup"/> 
 </OMA>
</OMOBJ>
</Signature>

<Signature name="minus">
<OMOBJ>
 <OMA>
  <OMS name="mapsto" cd="sts"/>
  <OMV name="AbelianGroup"/> 
  <OMV name="AbelianGroup"/> 
  <OMV name="AbelianGroup"/> 
 </OMA>
</OMOBJ>
</Signature>

<Signature name="times">
<OMOBJ>
 <OMA>
  <OMS name="mapsto" cd="sts"/>
  <OMA>
   <OMS name="nassoc" cd="sts"/> 
   <OMV name="SemiGroup"/>
  </OMA>
  <OMV name="SemiGroup"/>
 </OMA>
</OMOBJ>
</Signature>

<Signature name="divide">
<OMOBJ>
 <OMA>
  <OMS name="mapsto" cd="sts"/>
  <OMV name="AbelianGroup"/> 
  <OMV name="AbelianGroup"/> 
  <OMV name="AbelianGroup"/> 
 </OMA>
</OMOBJ>
</Signature>

<Signature name="power">
<OMOBJ>
 <OMA>
  <OMS name="mapsto" cd="sts"/>
  <OMS name="NumericalValue" cd="sts"/> 
  <OMS name="NumericalValue" cd="sts"/> 
  <OMS name="NumericalValue" cd="sts"/> 
 </OMA>
</OMOBJ>
</Signature>

<Signature name="abs">
<OMOBJ>
 <OMA>
  <OMS name="mapsto" cd="sts"/>
  <OMS name="C" cd="setname1"/> 
  <OMS name="R" cd="setname1"/> 
 </OMA>
</OMOBJ>
</Signature>

<Signature name="root">
<OMOBJ>
 <OMA>
  <OMS name="mapsto" cd="sts"/>
  <OMS name="NumericalValue" cd="sts"/> 
  <OMS name="NumericalValue" cd="sts"/> 
  <OMS name="NumericalValue" cd="sts"/> 
 </OMA>
</OMOBJ>
</Signature>


<Signature name="sum" >
<OMOBJ>
 <OMA>
  <OMS name="mapsto" cd="sts" />
  <OMV name="IntegerRange" />
  <OMA>
   <OMS name="mapsto" cd="sts" />
   <OMS name="Z" cd="setname1" />
   <OMV name="AbelianMonoid" />
  </OMA>
  <OMV name="AbelianMonoid" />
 </OMA>
</OMOBJ>
</Signature>

<Signature name="product" >
<OMOBJ>
 <OMA>
  <OMS name="mapsto" cd="sts" />
  <OMV name="IntegerRange" />
  <OMA>
   <OMS name="mapsto" cd="sts" />
   <OMS name="Z" cd="setname1" />
   <OMV name="AbelianMonoid" />
  </OMA>
  <OMV name="AbelianMonoid" />
 </OMA>
</OMOBJ>
</Signature>

</CDSignatures>
\end{verbatim}


ﬂ

\clearpage£
\section£The  \textbf£MathMLﬂ CDGroupﬂ\label£mathml.cdgﬂ





\begin£verbatimﬂ
<CDGroup>
<CDGroupName>mathml</CDGroupName>
<CDGroupVersion> 2 </CDGroupVersion>
<CDGroupRevision> 0 </CDGroupRevision>
<CDGroupURL>
http://www.openmath.org/cdfiles/cdgroups/mathml.ocd</CDGroupURL>
<CDGroupDescription> MathML compatibility CD Group </CDGroupDescription>
<CDComment>This is the first version of the Core CD group.
It was created by D Carlisle based on MathML CD Group.</CDComment>
<CDComment>Algebra</CDComment>
<CDGroupMember>
<CDName>alg1</CDName>
<CDURL>http://www.openmath.org/cd/alg1.ocd</CDURL></CDGroupMember>
<CDComment>Arithmetic</CDComment>
<CDGroupMember>
<CDName>arith1</CDName>
<CDURL>http://www.openmath.org/cd/arith1.ocd</CDURL></CDGroupMember>
<CDComment>Constructor for Floating Point Numbers</CDComment>
<CDGroupMember>
<CDName>bigfloat1</CDName>
<CDURL>http://www.openmath.org/cd/bigfloat1.ocd</CDURL></CDGroupMember>
<CDComment>Calculus</CDComment>
<CDGroupMember>
<CDName>calculus1</CDName>
<CDURL>http://www.openmath.org/cd/calculus1.ocd</CDURL></CDGroupMember>
<CDComment>Operations on and constructors for complex numbers</CDComment>
<CDGroupMember>
<CDName>complex1</CDName>
<CDURL>http://www.openmath.org/cd/complex1.ocd</CDURL></CDGroupMember>
<CDComment>Functions on functions</CDComment>
<CDGroupMember>
<CDName>fns1</CDName>
<CDURL>http://www.openmath.org/cd/fns1.ocd</CDURL></CDGroupMember>
<CDComment>Integer arithmetic</CDComment>
<CDGroupMember>
<CDName>integer1</CDName>
<CDURL>http://www.openmath.org/cd/integer1.ocd</CDURL></CDGroupMember>
<CDComment>Intervals</CDComment>
<CDGroupMember>
<CDName>interval1</CDName>
<CDURL>http://www.openmath.org/cd/interval1.ocd</CDURL></CDGroupMember>
<CDComment>Linear Algebra - vector &amp; matrix constructors, those symbols which are independant of orientation, but in MathML</CDComment>
<CDGroupMember>
<CDName>linalg1</CDName>
<CDURL>http://www.openmath.org/cd/linalg1.ocd</CDURL></CDGroupMember>
<CDComment>Linear Algebra - vector &amp; matrix constructors, those symbols which are dependant of orientation, and in MathML</CDComment>
<CDGroupMember>
<CDName>linalg2</CDName>
<CDURL>http://www.openmath.org/cd/linalg2.ocd</CDURL></CDGroupMember>
<CDComment>Limits of unary functions</CDComment>
<CDGroupMember>
<CDName>limit1</CDName>
<CDURL>http://www.openmath.org/cd/limit1.ocd</CDURL></CDGroupMember>
<CDComment>List constructors</CDComment>
<CDGroupMember>
<CDName>list1</CDName>
<CDURL>http://www.openmath.org/cd/list1.ocd</CDURL></CDGroupMember>
<CDComment>Basic logical operators</CDComment>
<CDGroupMember>
<CDName>logic1</CDName>
<CDURL>http://www.openmath.org/cd/logic1.ocd</CDURL></CDGroupMember>
<CDComment>
MathML Numerical Types
</CDComment>
<CDGroupMember>
<CDName>mathmltypes</CDName>
<CDURL>http://www.openmath.org/cd/mathmltypes.ocd</CDURL>
</CDGroupMember>
<CDComment>Minima and maxima</CDComment>
<CDGroupMember>
<CDName>minmax1</CDName>
<CDURL>http://www.openmath.org/cd/minmax1.ocd</CDURL></CDGroupMember>
<CDComment>Multset-theoretic operators and constructors</CDComment>
<CDGroupMember>
<CDName>multiset1</CDName>
<CDURL>http://www.openmath.org/cd/multiset1.ocd</CDURL></CDGroupMember>
<CDComment>Symbols for creating numbers, including some defined constants
(which can be seen as nullary constructors)</CDComment>
<CDGroupMember>
<CDName>nums1</CDName>
<CDURL>http://www.openmath.org/cd/nums1.ocd</CDURL></CDGroupMember>
<CDComment>Symbols for creating piecewise definitions</CDComment>
<CDGroupMember>
<CDName>piece1</CDName>
<CDURL>http://www.openmath.org/cd/piece1.ocd</CDURL></CDGroupMember>
<CDComment>The basic quantifiers forall and exists.</CDComment>
<CDGroupMember>
<CDName>quant1</CDName>
<CDURL>http://www.openmath.org/cd/quant1.ocd</CDURL></CDGroupMember>
<CDComment>Common arithmetic relations</CDComment>
<CDGroupMember>
<CDName>relation1</CDName>
<CDURL>http://www.openmath.org/cd/relation1.ocd</CDURL></CDGroupMember>
<CDComment>Number sets</CDComment>
<CDGroupMember>
<CDName>setname1</CDName>
<CDURL>http://www.openmath.org/cd/setname1.ocd</CDURL></CDGroupMember>
<CDComment>Rounding</CDComment>
<CDGroupMember>
<CDName>rounding1</CDName>
<CDURL>http://www.openmath.org/cd/rounding1.ocd</CDURL></CDGroupMember>
<CDComment>Set-theoretic operators and constructors</CDComment>
<CDGroupMember>
<CDName>set1</CDName>
<CDURL>http://www.openmath.org/cd/set1.ocd</CDURL></CDGroupMember>
<CDComment>Basic data orientated statistical operators</CDComment>
<CDGroupMember>
<CDName>s_data1</CDName>
<CDURL>http://www.openmath.org/cd/s_data1.ocd</CDURL></CDGroupMember>
<CDComment>Basic random variable orientated statistical operators</CDComment>
<CDGroupMember>
<CDName>s_dist1</CDName>
<CDURL>http://www.openmath.org/cd/s_dist1.ocd</CDURL></CDGroupMember>
<CDComment>Basic transcendental functions</CDComment>
<CDGroupMember>
<CDName>transc1</CDName>
<CDURL>http://www.openmath.org/cd/transc1.ocd</CDURL></CDGroupMember>
<CDComment>Vector calculus functions</CDComment>
<CDGroupMember>
<CDName>veccalc1</CDName>
<CDURL>http://www.openmath.org/cd/veccalc1.ocd</CDURL></CDGroupMember>
<CDComment>Alternative encoding symbols for compatibility with the MathML
Semantic mapping constructs.</CDComment>
<CDGroupMember>
<CDName>altenc</CDName>
<CDURL>http://www.openmath.org/cd/altenc.ocd</CDURL></CDGroupMember>
</CDGroup>
\end{verbatim}




ﬂ

\clearpage£
\section£The \textbf£errorﬂ Content Dictionaryﬂ\label£errorcdﬂ




\begin£verbatimﬂ
<CD>
<CDName> error </CDName>
<CDURL> http://www.openmath.org/cd/error.ocd </CDURL>
<CDReviewDate> 2003-04-01 </CDReviewDate>
<CDStatus> official </CDStatus>
<CDDate> 2001-03-12 </CDDate>
<CDVersion> 2 </CDVersion>
<CDRevision> 0 </CDRevision>
<CDUses>
<CDName> arith1 </CDName>
<CDName> specfun1 </CDName>
</CDUses>

<CDDefinition>
<Name> unhandled_symbol </Name>
<Description>
This symbol represents the error which is raised when an application
reads a symbol which is present in the mentioned content
dictionary, but which it has not implemented.

When receiving such a symbol, the application should act as if it had
received the OpenMath error object constructed from unhandled_symbol
and the unhandled symbol as in the example below.
</Description>

<Example>
The application does not implement the Complex numbers:
<OMOBJ>
  <OME>
    <OMS cd="error" name="unhandled_symbol"/>
    <OMS cd="setname1" name="C"/>
  </OME>
</OMOBJ>
</Example>
</CDDefinition>

<CDDefinition>
<Name> unexpected_symbol </Name>
<Description>
This symbol represents the error which is raised when an application
reads a symbol which is not present in the mentioned content dictionary.

When receiving such a symbol, the application should act as if it had
received the OpenMath error object constructed from unexpected_symbol
and the unexpected symbol as in the example below.
</Description>
<Example>
The application received a mistyped symbol
<OMOBJ>
  <OME>
    <OMS cd="error" name="unexpected_symbol"/>
    <OMS cd="arith1" name="plurse"/>
  </OME>
</OMOBJ>
</Example>
</CDDefinition>

<CDDefinition>
<Name> unsupported_CD </Name>
<Description>
This symbol represents the error which is raised when an application
reads a symbol where the mentioned content dictionary is not
present.

When receiving such a symbol, the application should act as if it had
received the OpenMath error object constructed from unsupported_CD and
the symbol from the unsupported Content Dictionary as in the example
below.
</Description>
<Example>
The application does not know about the CD specfun1
<OMOBJ>
  <OME>
    <OMS cd="error" name="unsupported_CD"/>
    <OMS cd="specfun1" name="BesselJ"/>
  </OME>
</OMOBJ>
</Example>
</CDDefinition>

</CD>
\end{verbatim}


ﬂ






\begin£thebibliographyﬂ£99ﬂ


\bibitem£Abbott_Leeuwen_Strotmann_98ﬂ
John A. Abbott, AndrÈ van Leeuwen and A. Strotmann OpenMath: Communicating Mathematical Information 
between Co-operating Agents in a Knowledge Network.


\bibitem£rfc1521ﬂ
N. Borenstein and N Freed MIME (Multipurpose Internet Mail Extensions) Part One: Mechanism for Specifying and Describing the Format of Internet Message Bodies


\bibitem£MathML_98ﬂ
Stephen Buswell, Stan Devitt, Angel Diaz, Nico Poppelier, Bruce Smith, Neil Soiffer, Robert Sutor and Stephen Watt Mathematical Markup Language (MathML) 1.0 Specification


\bibitem£OM_D131bﬂ
O. Caprotti and A. M. Cohen A Type System for OpenMath


\bibitem£OMD132bﬂ
Olga Caprotti and Arjeh M. Cohen A Type System for OpenMath


\bibitem£Dalmas_Gaetano_Watt_97ﬂ
S. Dalmas, M. GaÎtano and S. Watt An OpenMath 1.0 Implementation


\bibitem£OM_D132cﬂ
J. Davenport A Small OpenMath Type System


\bibitem£ieee754_85ﬂ
 IEEE Standard for binary Floating-Point Arithmetic


\bibitem£iso646_83ﬂ
 ISO 7-bit coded character set for information interchange


\bibitem£OM_98ﬂ
OpenMath Consortium OpenMath Version 1 - Draft


\bibitem£MathML_2000ﬂ
Nico Poppelier, Robert Miner, Patrick Ion, David Carlisle, Ron Ausbrooks, Stephen Buswell, StÈphane Dalmas, Stan Devitt, Angel Diaz, Roger Hunter, Bruce Smith, Neil Soiffer, Robert Sutor and Stephen Watt Mathematical Markup Language (MathML) 2.0 Specification


\bibitem£ISO9660ﬂ
Technical committee / subcommittee: JTC 1 ISO 9660:1988 Information processing \textendash  Volume and File Structure of CDROM for Information Interchange


\bibitem£UNICODEﬂ
Unicode Consortium The Unicode Standard: Version 2.0


\bibitem£xmlnsﬂ
W3C Namespaces in XML


\bibitem£xmlﬂ
W3C Extensible Markup Language XML 1.0


\bibitem£XSL_99ﬂ
W3C Extensible Stylesheet Language (XSL) Specification


\bibitem£utf8ﬂ
F. Yergeau UTF-8, a transformation format of ISO 10646

\end£thebibliographyﬂ






\catcode`\{=1
\catcode`\}=2
\end£documentﬂ

